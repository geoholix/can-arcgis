define("spectre-canjs@2.0.2#util/string/string",["exports"],function(e){"use strict";function t(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.makeSentenceCase=function(e){return e=String(e),t(String.prototype.trim.call(e.split("_").join(" ").toLowerCase().replace(/ +/g," ")))}}),define("can-arcgis@2.1.0#components/identify/util/identifyMapImage",["exports","esri-loader","can-util/js/get/get","can-util/js/assign/assign","spectre-canjs/util/string/string"],function(e,t,a,r,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return e.results?e.results.map(function(e){var r=(0,i.default)(t,a.id+"."+e.layerId)||{};return e.feature.popupTemplate=(0,l.default)({title:e.layerName,content:[{type:"fields",fieldInfos:Object.keys(e.feature.attributes).map(function(e){return{fieldName:e,label:(0,n.makeSentenceCase)(e),visible:!0}})}]},r.serialize?r.serialize():r),e.feature}):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,a,r){return new Promise(function(n){(0,t.loadModules)(["esri/tasks/support/IdentifyParameters","esri/tasks/IdentifyTask"]).then(function(t){var s=p(t,2),l=s[0],c=s[1],y=(0,i.default)(r.layerInfos,a.id+".include"),u=(0,i.default)(r.layerInfos,a.id+".exclude"),d=new l({layerIds:a.sublayers.filter(function(e){return(!y||!y.length||-1!==y.indexOf(e.id))&&!(u&&u.length&&u.indexOf(e.id)>-1)&&e.visible}).map(function(e){return e.id}),layerOption:"visible",returnGeometry:!0,spatialReference:e.mapPoint.spatialReference,tolerance:15,geometry:e.mapPoint,height:r.view.height,width:r.view.width,mapExtent:r.view.extent});new c({url:a.url}).execute(d).then(function(e){var t=o(e,r.popupTemplates,a);n(t)})})})};var i=s(a),l=s(r),p=function(){function e(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),define("can-arcgis@2.1.0#components/identify/identify",["exports","can-define/map/map","./util/identifyMapImage","can-util/js/dev/dev","esri-loader"],function(e,t,a,r,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.IDENTIFY_METHODS=void 0;var o=s(t),i=s(a),l=s(r),p=function(){function e(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=void 0;(0,n.loadModules)(["esri/geometry/geometryEngine"]).then(function(e){var t=p(e,1);c=t[0]});var y=e.IDENTIFY_METHODS={"esri.layers.MapImageLayer":i.default,"esri.layers.FeatureLayer":function(e,t,a){return new Promise(function(t){a.view.hitTest(e).then(function(e){t(e.results.filter(function(e){return"esri.layers.VectorTileLayer"!==e.graphic.layer.declaredClass}).map(function(e){return e.graphic}))})})}};e.default=o.default.extend({clickHandle:"*",layerInfos:o.default,view:{type:"*",set:function(e){return this.clickHandle&&this.clickHandle.remove(),e&&(this.clickHandle=e.on("click",this.identify.bind(this))),e}},identify:function(e){var t=this;e.stopPropagation(),this.view.popup.features=[];var a=[],r=this.view.map.allLayers;return r.toArray().sort(function(e,t){if("esri.layers.FeatureLayer"===e.declaredClass)return-1;var a=r.indexOf(e);return r.indexOf(t)-a}).forEach(function(r){if(r.visible)if(y.hasOwnProperty(r.declaredClass)){var n=new Promise(function(a){var n=!1;y[r.declaredClass](e,r,t).then(function(e){n&&l.default.warn("identify: promise was already resolved"),n=!0,a(e)}),setTimeout(function(){n||(l.default.warn("identify: promise timeout exceeded"),a([]))},5e3)});a.push(n)}else l.default.warn("identify: no identify function registered for type "+r.declaredClass)}),new Promise(function(r){Promise.all(a).then(function(a){var n=a.reduce(function(e,t){return e.concat(t)},[]);n.sort(function(t,a){var r=[t,a].map(function(e){return e.geometry.extent?e.geometry.extent.center:e.geometry}),n=r.map(function(t,a){return c.distance(e.mapPoint,r[a],"feet")}),s=n[0]-n[1];if(Math.round(100*s)/100==0){if(t.layer&&"esri.layers.FeatureLayer"===t.layer.declaredClass)return-1;if(a.layer&&"esri.layers.FeatureLayer"===a.layer.declaredClass)return 1}return s}),n.length&&t.view.popup.open({selectedFeatureIndex:0,features:n,updateLocationEnabled:!0}),r(n)})})}})}),define("can-arcgis@2.1.0#components/draw-widget/template.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,a){var r=t("components/draw-widget/template.stache",[{tokenType:"start",args:["div",!1,1]},{tokenType:"attrStart",args:["class",1]},{tokenType:"attrValue",args:["btn-group mt-2",1]},{tokenType:"attrEnd",args:["class",1]},{tokenType:"end",args:["div",!1,1]},{tokenType:"chars",args:["                         ",1]},{tokenType:"special",args:["#each(geometries, type=value)",1]},{tokenType:"chars",args:["\r\n        ",1]},{tokenType:"special",args:["#with(button=../buttons[type])",2]},{tokenType:"chars",args:["\r\n        ",2]},{tokenType:"start",args:["button",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["btn btn-default tooltip ",3]},{tokenType:"special",args:["#is ../type ../../active",3]},{tokenType:"attrValue",args:["active",3]},{tokenType:"special",args:["/is",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"attrStart",args:["data-tooltip",3]},{tokenType:"special",args:["button.tooltip",3]},{tokenType:"attrEnd",args:["data-tooltip",3]},{tokenType:"attrStart",args:["type",3]},{tokenType:"attrValue",args:["button",3]},{tokenType:"attrEnd",args:["type",3]},{tokenType:"attrStart",args:["on:el:click",3]},{tokenType:"attrValue",args:["../../draw(../type)",3]},{tokenType:"attrEnd",args:["on:el:click",3]},{tokenType:"end",args:["button",!1,4]},{tokenType:"start",args:["i",!1,4]},{tokenType:"attrStart",args:["class",4]},{tokenType:"special",args:["button.iconClass",4]},{tokenType:"attrEnd",args:["class",4]},{tokenType:"end",args:["i",!1,4]},{tokenType:"close",args:["i",4]},{tokenType:"close",args:["button",4]},{tokenType:"chars",args:["\r\n        ",4]},{tokenType:"special",args:["/with",5]},{tokenType:"chars",args:["\r\n    ",5]},{tokenType:"special",args:["/each",6]},{tokenType:"chars",args:["\r\n    ",6]},{tokenType:"special",args:["#if(graphicsLayer.graphics.items.length)",7]},{tokenType:"chars",args:["\r\n        ",7]},{tokenType:"start",args:["button",!1,8]},{tokenType:"attrStart",args:["class",8]},{tokenType:"attrValue",args:["btn btn-action tooltip",8]},{tokenType:"attrEnd",args:["class",8]},{tokenType:"attrStart",args:["data-tooltip",8]},{tokenType:"attrValue",args:["Clear Selection",8]},{tokenType:"attrEnd",args:["data-tooltip",8]},{tokenType:"attrStart",args:["on:el:click",8]},{tokenType:"attrValue",args:["clearGraphics()",8]},{tokenType:"attrEnd",args:["on:el:click",8]},{tokenType:"end",args:["button",!1,8]},{tokenType:"chars",args:["\r\n        ",8]},{tokenType:"start",args:["i",!1,9]},{tokenType:"attrStart",args:["class",9]},{tokenType:"attrValue",args:["esri-icon-trash",9]},{tokenType:"attrEnd",args:["class",9]},{tokenType:"end",args:["i",!1,9]},{tokenType:"close",args:["i",9]},{tokenType:"close",args:["button",9]},{tokenType:"chars",args:["\r\n    ",9]},{tokenType:"special",args:["/if",10]},{tokenType:"chars",args:["\r\n",10]},{tokenType:"close",args:["div",11]},{tokenType:"chars",args:["\r\n",11]},{tokenType:"special",args:["#if allowContinuous",12]},{tokenType:"chars",args:["\r\n    ",12]},{tokenType:"start",args:["div",!1,13]},{tokenType:"attrStart",args:["class",13]},{tokenType:"attrValue",args:["form-group",13]},{tokenType:"attrEnd",args:["class",13]},{tokenType:"end",args:["div",!1,13]},{tokenType:"chars",args:["\r\n        ",13]},{tokenType:"start",args:["label",!1,14]},{tokenType:"attrStart",args:["class",14]},{tokenType:"attrValue",args:["form-switch",14]},{tokenType:"attrEnd",args:["class",14]},{tokenType:"end",args:["label",!1,14]},{tokenType:"chars",args:["\r\n            ",14]},{tokenType:"start",args:["input",!0,15]},{tokenType:"attrStart",args:["type",15]},{tokenType:"attrValue",args:["checkbox",15]},{tokenType:"attrEnd",args:["type",15]},{tokenType:"attrStart",args:["el:checked:bind",15]},{tokenType:"attrValue",args:["continueDraw",15]},{tokenType:"attrEnd",args:["el:checked:bind",15]},{tokenType:"end",args:["input",!0,15]},{tokenType:"chars",args:["\r\n            ",15]},{tokenType:"start",args:["i",!1,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["form-icon",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"end",args:["i",!1,16]},{tokenType:"close",args:["i",16]},{tokenType:"chars",args:[" Enable continuous drawing\r\n        ",16]},{tokenType:"close",args:["label",17]},{tokenType:"chars",args:["\r\n    ",17]},{tokenType:"close",args:["div",18]},{tokenType:"chars",args:["\r\n",18]},{tokenType:"special",args:["/if",19]},{tokenType:"done",args:[19]}]);return function(t,a,n){var s=Object.assign({module:e},a);return r(t,s,n)}}),define("can-arcgis@2.1.0#components/draw-widget/defaults",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.graphics={pointSymbol:{type:"simple-marker",style:"square",color:"#8A2BE2",size:"16px",outline:{color:[255,255,255],width:3}},polylineSymbol:{type:"simple-line",color:"#8A2BE2",width:"4",style:"dash"},polygonSymbol:{type:"simple-fill",color:"rgba(138,43,226, 0.8)",style:"solid",outline:{color:"white",width:1}}},e.buttons={point:{type:"point",tooltip:"Draw a point",iconClass:"esri-icon-blank-map-pin"},polyline:{type:"polyline",tooltip:"Draw a line",iconClass:"esri-icon-polyline"},polygon:{type:"polygon",tooltip:"Draw a polygon",iconClass:"esri-icon-polygon"}}}),define("can-arcgis@2.1.0#components/draw-widget/ViewModel",["exports","can-define/map/map","./defaults","can-arcgis/util/decorateAccessor","esri-loader"],function(e,t,a,r,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(t),i=s(r),l=function(){function e(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=o.default.extend("DrawWidget",{sketch:{type:"*",set:function(e){var t=this;return this.sketch&&this.sketch.destroy(),e&&(this.sketchHandle=e.on("draw-complete",function(a){t.graphicsLayer.add(a.graphic),t.continueDraw?setTimeout(function(){e.create(t.active)}):setTimeout(function(){t.active=null})})),e}},sketchHandle:{type:"*",set:function(e){return this.sketchHandle&&this.sketchHandle.remove(),e}},graphicsLayer:{},active:{type:"string",set:function(e){return e?(this.viewHandle=this.view.on("click",function(e){e.stopPropagation()}),this.sketch.create(e),e):(this.sketch&&this.sketch.reset(),this.viewHandle=null,e)}},geometries:{type:function(e){return"string"==typeof e?e.split(","):e},value:function(){return["point","polyline","polygon"]}},buttons:{value:a.buttons},allowContinuous:{value:!0,type:"boolean"},continueDraw:{value:!1,type:"boolean"},view:{set:function(e){var t=this;return this.graphicsLayer&&this.view&&this.view.map&&this.view.map.remove(this.graphicsLayer),this.sketchHandle=null,this.sketch=null,this.viewHandle=null,e&&(0,n.loadModules)(["esri/layers/GraphicsLayer","esri/widgets/Sketch/SketchViewModel"]).then(function(r){var n=l(r,2),s=n[0],o=n[1],p=t.graphicsLayer||(0,i.default)(new s({title:"Selection Graphics",listMode:"hide"}));e.map.add(p),t.graphicsLayer=p;var c=new o({view:e,pointSymbol:a.graphics.pointSymbol,polylineSymbol:a.graphics.polylineSymbol,polygonSymbol:a.graphics.polygonSymbol});t.sketch=c}),e}},viewHandle:{type:"*",set:function(e){return this.viewHandle&&this.viewHandle.remove(),e}},draw:function(e){this.active=e===this.active?null:e},clearGraphics:function(){this.graphicsLayer.graphics.removeAll()}})}),define("can-arcgis@2.1.0#components/draw-widget/draw-widget",["exports","can-component","./template.stache","./ViewModel"],function(e,t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),o=n(a),i=n(r);e.default=s.default.extend({tag:"draw-widget",ViewModel:i.default,view:o.default,events:{removed:function(){this.viewModel.view=null}}})}),define("spectre-canjs@2.0.2#sp-form/template.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,a){var r=t("sp-form/template.stache",[{tokenType:"special",args:["#if(object)",1]},{tokenType:"chars",args:["\r\n\r\n  ",1]},{tokenType:"start",args:["form",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["form",3]},{tokenType:"special",args:["#if(inline)",3]},{tokenType:"attrValue",args:["-horizontal form-inline",3]},{tokenType:"special",args:["/if",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"attrStart",args:["on:submit",3]},{tokenType:"attrValue",args:["submitForm(scope.event)",3]},{tokenType:"attrEnd",args:["on:submit",3]},{tokenType:"end",args:["form",!1,3]},{tokenType:"chars",args:["\r\n      ",3]},{tokenType:"start",args:["can-slot",!1,4]},{tokenType:"attrStart",args:["this:bind",4]},{tokenType:"attrValue",args:["this",4]},{tokenType:"attrEnd",args:["this:bind",4]},{tokenType:"attrStart",args:["name",4]},{tokenType:"attrValue",args:["fields",4]},{tokenType:"attrEnd",args:["name",4]},{tokenType:"end",args:["can-slot",!1,4]},{tokenType:"chars",args:["\r\n        ",4]},{tokenType:"special",args:["#each(fields, field=value)",5]},{tokenType:"chars",args:["\r\n          ",5]},{tokenType:"special",args:[">field.editComponent",6]},{tokenType:"chars",args:["\r\n        ",6]},{tokenType:"special",args:["/each",7]},{tokenType:"chars",args:["\r\n      ",7]},{tokenType:"close",args:["can-slot",8]},{tokenType:"chars",args:["\r\n\r\n      ",8]},{tokenType:"start",args:["br",!0,10]},{tokenType:"end",args:["br",!0,10]},{tokenType:"chars",args:["\r\n\r\n      ",10]},{tokenType:"special",args:["#if(isSaving)",12]},{tokenType:"chars",args:["\r\n        ",12]},{tokenType:"start",args:["div",!1,13]},{tokenType:"attrStart",args:["class",13]},{tokenType:"attrValue",args:["loading",13]},{tokenType:"attrEnd",args:["class",13]},{tokenType:"end",args:["div",!1,13]},{tokenType:"close",args:["div",13]},{tokenType:"chars",args:["\r\n      ",13]},{tokenType:"special",args:["else",14]},{tokenType:"chars",args:["\r\n        ",14]},{tokenType:"start",args:["can-slot",!1,15]},{tokenType:"attrStart",args:["this:from",15]},{tokenType:"attrValue",args:["this",15]},{tokenType:"attrEnd",args:["this:from",15]},{tokenType:"attrStart",args:["name",15]},{tokenType:"attrValue",args:["submit",15]},{tokenType:"attrEnd",args:["name",15]},{tokenType:"end",args:["can-slot",!1,15]},{tokenType:"chars",args:["\r\n          ",15]},{tokenType:"start",args:["div",!1,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["btn-group",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"attrStart",args:["role",16]},{tokenType:"attrValue",args:["group",16]},{tokenType:"attrEnd",args:["role",16]},{tokenType:"attrStart",args:["aria-label",16]},{tokenType:"attrValue",args:["Form Buttons",16]},{tokenType:"attrEnd",args:["aria-label",16]},{tokenType:"end",args:["div",!1,16]},{tokenType:"chars",args:["\r\n              ",16]},{tokenType:"start",args:["button",!1,17]},{tokenType:"attrStart",args:["type",17]},{tokenType:"attrValue",args:["button",17]},{tokenType:"attrEnd",args:["type",17]},{tokenType:"attrStart",args:["class",17]},{tokenType:"attrValue",args:["btn btn-primary",17]},{tokenType:"attrEnd",args:["class",17]},{tokenType:"attrStart",args:["on:click",17]},{tokenType:"attrValue",args:["dispatchEvent('submit')",17]},{tokenType:"attrEnd",args:["on:click",17]},{tokenType:"end",args:["button",!1,17]},{tokenType:"chars",args:["\r\n                ",17]},{tokenType:"start",args:["i",!1,18]},{tokenType:"attrStart",args:["class",18]},{tokenType:"attrValue",args:["fa fa-floppy-o",18]},{tokenType:"attrEnd",args:["class",18]},{tokenType:"end",args:["i",!1,18]},{tokenType:"close",args:["i",18]},{tokenType:"chars",args:[" Submit",18]},{tokenType:"close",args:["button",18]},{tokenType:"chars",args:["            \r\n                ",18]},{tokenType:"start",args:["button",!1,19]},{tokenType:"attrStart",args:["type",19]},{tokenType:"attrValue",args:["button",19]},{tokenType:"attrEnd",args:["type",19]},{tokenType:"attrStart",args:["class",19]},{tokenType:"attrValue",args:["btn btn-primary",19]},{tokenType:"attrEnd",args:["class",19]},{tokenType:"attrStart",args:["on:el:click",19]},{tokenType:"attrValue",args:["dispatchEvent('cancel')",19]},{tokenType:"attrEnd",args:["on:el:click",19]},{tokenType:"end",args:["button",!1,19]},{tokenType:"chars",args:["\r\n                ",19]},{tokenType:"start",args:["i",!1,20]},{tokenType:"attrStart",args:["class",20]},{tokenType:"attrValue",args:["fa fa-ban",20]},{tokenType:"attrEnd",args:["class",20]},{tokenType:"end",args:["i",!1,20]},{tokenType:"close",args:["i",20]},{tokenType:"chars",args:[" Cancel",20]},{tokenType:"close",args:["button",20]},{tokenType:"chars",args:["\r\n          ",20]},{tokenType:"close",args:["div",21]},{tokenType:"chars",args:["\r\n        ",21]},{tokenType:"close",args:["can-slot",22]},{tokenType:"chars",args:["\r\n      ",22]},{tokenType:"special",args:["/if",23]},{tokenType:"chars",args:["\r\n  ",23]},{tokenType:"close",args:["form",24]},{tokenType:"chars",args:["\r\n\r\n",24]},{tokenType:"special",args:["else",26]},{tokenType:"chars",args:["\r\n  ",26]},{tokenType:"start",args:["p",!1,27]},{tokenType:"end",args:["p",!1,27]},{tokenType:"chars",args:["The form could not be displayed. The object was not found.",27]},{tokenType:"close",args:["p",27]},{tokenType:"chars",args:["\r\n",27]},{tokenType:"special",args:["/if",28]},{tokenType:"done",args:[28]}]);return function(t,a,n){var s=Object.assign({module:e},a);return r(t,s,n)}}),define("spectre-canjs@2.0.2#util/field/fieldComponents",["exports","can-stache"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.components=void 0,e.getEditComponent=function(e){var t=e.editTag||"sp-text-field";return r.edit[t]||(r.edit[t]=(0,a.default)("<"+t+' properties:from="." \n            value:bind="scope.root.dirtyObject[name]" \n            error:bind="scope.root.validationErrors[name]"\n            on:fieldchange="scope.root.checkField(scope.arguments)"></'+t+">")),r.edit[t]};var a=function(e){return e&&e.__esModule?e:{default:e}}(t),r=e.components={edit:{}}}),define("spectre-canjs@2.0.2#util/field/Field",["exports","../string/string","can-define/map/map","can-define/list/list","./fieldComponents"],function(e,t,a,r,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.FieldList=e.Field=void 0;var o=s(a),i=s(r),l=e.Field=o.default.extend("Field",{seal:!1},{name:{type:"string",set:function(e){return!this.alias&&e&&(this.alias=(0,t.makeSentenceCase)(e)),e}},alias:{type:"string"},properties:{set:function(e){this.assign(e)}},error:"string",value:{value:"",type:"*",set:function(e){return this.value!==e&&this.dispatch("fieldchange",[this]),e}},list:{type:"boolean",value:!0},detail:{type:"boolean",value:!0},edit:{type:"boolean",value:!0},filter:{type:"boolean",value:!0},sort:{type:"boolean",value:!0},inline:"boolean",placeholder:"string",classes:"string",editTag:{value:"sp-text-field",type:"string"},editComponent:{get:function(e){return"function"==typeof e?e:(0,n.getEditComponent)(this)}},displayComponent:{},validate:{value:null}});e.FieldList=i.default.extend("FieldList",{"#":l}),e.default=l}),define("spectre-canjs@2.0.2#util/field/parseFieldArray/parseFieldArray",["exports","../Field"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.map(function(e){return"string"==typeof e&&(e={name:e}),new a.default(e)})};var a=function(e){return e&&e.__esModule?e:{default:e}}(t)}),define("spectre-canjs@2.0.2#util/field/mapToFields/mapToFields",["exports","../parseFieldArray/parseFieldArray"],function(e,t){"use strict";function a(e){return(e._define||e.prototype._define).definitions}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinedProps=a,e.default=function(e){if(!e)return console.warn("map is undefined, so no fields will be generated"),[];var t=a(e),s=Object.keys(t).filter(function(e){return"_"!==e.substr(0,1)}).map(function(e){var a="function"==typeof t[e].type?t[e].type.name:t[e].type,r=Object.assign({},t[e]);return n.forEach(function(e){delete r[e]}),Object.assign({},{name:e,type:"string"},r,{type:a})});return(0,r.default)(s)};var r=function(e){return e&&e.__esModule?e:{default:e}}(t),n=["get","set","serialize"]}),define("spectre-canjs@2.0.2#util/field/base/FieldIteratorMap",["exports","can-define/map/map","../parseFieldArray/parseFieldArray","../mapToFields/mapToFields","../Field","can-define/list/list"],function(e,t,a,r,n,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(t),l=o(a),p=o(r),c=o(n),y=o(s);e.default=i.default.extend({excludeFieldKey:"string",fields:{Value:y.default,Type:y.default,get:function(e){var t=this;if(!(e=e||[]).length||e[0]instanceof c.default||(e=(0,l.default)(e)),!e.length&&this.object instanceof i.default&&(e=(0,p.default)(this.object)),!e.length&&this.object){var a=this.object.get?this.object.get():this.object;e=(0,l.default)(Object.keys(a))}return e.filter(function(e){return!1!==e[t.excludeFieldKey]})}}})}),define("spectre-canjs@2.0.2#sp-form/ViewModel",["exports","can-define/map/map","spectre-canjs/util/field/base/FieldIteratorMap"],function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),s=r(a),o=function(){function e(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=s.default.extend("FormWidget",{excludeFieldKey:{value:"edit"},showSaving:{type:"htmlbool",value:!0},inline:{type:"boolean",value:!1},connection:{value:null},objectId:{type:"number",set:function(e){return this.promise=this.fetchObject(this.connection,e),e}},promise:{value:null},object:{Type:n.default,set:function(e){if(!e)return e;var t=e.constructor?e.constructor:n.default;return this.dirtyObject=new t(e.get()),e}},dirtyObject:n.default,validationErrors:{get:function(e){if(e)return e;var t={};return this.fields.forEach(function(e){t[e.name]=null}),new n.default(t)}},isValid:{get:function(){if(!this.dirtyObject||!this.object)return!0;for(var e=!0,t=0;t<this.fields.length;t++){var a=this.fields[t],r=a.name,n=this.dirtyObject[r];this.validationErrors[r]?e=!1:(this.validationErrors[r]=this.getValidationError(a,n))&&(e=!1)}return e}},isSaving:{value:!1,type:"boolean"},fetchObject:function(e,t){var a=this;if(!e||!t)return null;var r=e.get({id:t});return r.then(function(e){a.object=e}),r},submitForm:function(e){return e&&e.preventDefault&&e.preventDefault(),!this.isSaving&&(this.isValid?(this.showSaving&&(this.isSaving=!0),this.object.assign(this.dirtyObject),this.dispatch("submit",[this.object]),!1):(this.dispatch("submitfail",[this.object,this.validationErrors]),!1))},dispatchEvent:function(e){"submit"===e?this.submitForm():this.dispatch(e,[this.object])},checkField:function(e){var t=o(e,1)[0];this.validationErrors[t.name]=this.getValidationError(t,t.value),this.dispatch("fieldchange",[{name:t.name,value:t.value,dirty:this.dirtyObject,current:this.object}])},getValidationError:function(e,t){return(e.validate?e.validate({name:e.name,value:t,dirty:this.dirtyObject,current:this.object}):"")||""}});e.default=i}),define("spectre-canjs@2.0.2#sp-form/sp-form",["exports","can-component","./template.stache","./ViewModel","./widget.less"],function(e,t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),o=n(a),i=n(r);e.default=s.default.extend({tag:"sp-form",ViewModel:i.default,view:o.default})}),define("spectre-canjs@2.0.2#sp-form/fields/sp-select-field/sp-select-field.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,a){var r=t("sp-form/fields/sp-select-field/sp-select-field.stache",[{tokenType:"special",args:["<select",1]},{tokenType:"chars",args:["\r\n",1]},{tokenType:"start",args:["select",!1,2]},{tokenType:"attrStart",args:["value:bind",2]},{tokenType:"attrValue",args:["value",2]},{tokenType:"attrEnd",args:["value:bind",2]},{tokenType:"attrStart",args:["class",2]},{tokenType:"attrValue",args:["form-select form-control",2]},{tokenType:"attrEnd",args:["class",2]},{tokenType:"attrStart",args:["name",2]},{tokenType:"special",args:["name",2]},{tokenType:"attrEnd",args:["name",2]},{tokenType:"end",args:["select",!1,2]},{tokenType:"chars",args:["\r\n    ",2]},{tokenType:"start",args:["option",!1,3]},{tokenType:"attrStart",args:["value",3]},{tokenType:"attrEnd",args:["value",3]},{tokenType:"end",args:["option",!1,3]},{tokenType:"special",args:["defaultLabel",3]},{tokenType:"close",args:["option",3]},{tokenType:"chars",args:["\r\n    ",3]},{tokenType:"special",args:["#each(options)",4]},{tokenType:"chars",args:["\r\n    ",4]},{tokenType:"start",args:["option",!1,5]},{tokenType:"attrStart",args:["value",5]},{tokenType:"special",args:["value",5]},{tokenType:"attrEnd",args:["value",5]},{tokenType:"end",args:["option",!1,5]},{tokenType:"special",args:["label",5]},{tokenType:"close",args:["option",5]},{tokenType:"chars",args:["\r\n    ",5]},{tokenType:"special",args:["/each",6]},{tokenType:"chars",args:["\r\n",6]},{tokenType:"close",args:["select",7]},{tokenType:"chars",args:["\r\n",7]},{tokenType:"special",args:["/select",8]},{tokenType:"chars",args:["\r\n\r\n\r\n",8]},{tokenType:"start",args:["div",!1,11]},{tokenType:"attrStart",args:["class",11]},{tokenType:"attrValue",args:["form-group ",11]},{tokenType:"special",args:["#if(error)",11]},{tokenType:"attrValue",args:["has-error",11]},{tokenType:"special",args:["/if",11]},{tokenType:"attrValue",args:[" ",11]},{tokenType:"special",args:["#if(optionsPromise.isPending)",11]},{tokenType:"attrValue",args:["has-icon-right",11]},{tokenType:"special",args:["/if",11]},{tokenType:"attrEnd",args:["class",11]},{tokenType:"end",args:["div",!1,11]},{tokenType:"chars",args:["\r\n    ",11]},{tokenType:"special",args:["#if(inline)",12]},{tokenType:"chars",args:["\r\n        ",12]},{tokenType:"special",args:[">select",13]},{tokenType:"chars",args:["\r\n    ",13]},{tokenType:"special",args:["else",14]},{tokenType:"chars",args:["\r\n    ",14]},{tokenType:"start",args:["div",!1,15]},{tokenType:"attrStart",args:["class",15]},{tokenType:"attrValue",args:["col-4",15]},{tokenType:"attrEnd",args:["class",15]},{tokenType:"end",args:["div",!1,15]},{tokenType:"chars",args:["\r\n        ",15]},{tokenType:"start",args:["label",!1,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["form-label",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"attrStart",args:["for",16]},{tokenType:"special",args:["name",16]},{tokenType:"attrEnd",args:["for",16]},{tokenType:"end",args:["label",!1,16]},{tokenType:"special",args:["alias",16]},{tokenType:"close",args:["label",16]},{tokenType:"chars",args:["\r\n    ",16]},{tokenType:"close",args:["div",17]},{tokenType:"chars",args:["\r\n    ",17]},{tokenType:"start",args:["div",!1,18]},{tokenType:"attrStart",args:["class",18]},{tokenType:"attrValue",args:["col-8",18]},{tokenType:"attrEnd",args:["class",18]},{tokenType:"end",args:["div",!1,18]},{tokenType:"chars",args:["\r\n        ",18]},{tokenType:"special",args:[">select",19]},{tokenType:"chars",args:["\r\n    ",19]},{tokenType:"close",args:["div",20]},{tokenType:"chars",args:["\r\n    ",20]},{tokenType:"special",args:["/if",21]},{tokenType:"chars",args:["\r\n    ",21]},{tokenType:"special",args:["#if(optionsPromise.isPending)",22]},{tokenType:"start",args:["i",!1,22]},{tokenType:"attrStart",args:["class",22]},{tokenType:"attrValue",args:["form-icon loading",22]},{tokenType:"attrEnd",args:["class",22]},{tokenType:"end",args:["i",!1,22]},{tokenType:"close",args:["i",22]},{tokenType:"special",args:["/if",22]},{tokenType:"chars",args:[" \r\n    ",22]},{tokenType:"special",args:["#if error",23]},{tokenType:"start",args:["span",!1,23]},{tokenType:"attrStart",args:["class",23]},{tokenType:"attrValue",args:["form-input-hint",23]},{tokenType:"attrEnd",args:["class",23]},{tokenType:"end",args:["span",!1,23]},{tokenType:"special",args:[" error",23]},{tokenType:"close",args:["span",23]},{tokenType:"special",args:["/if",23]},{tokenType:"close",args:["div",23]},{tokenType:"done",args:[23]}]);return function(t,a,n){var s=Object.assign({module:e},a);return r(t,s,n)}}),define("spectre-canjs@2.0.2#sp-form/fields/sp-select-field/ViewModel",["exports","../../../util/field/Field","can-define/map/map","can-define/list/list"],function(e,t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.SelectOptionList=e.SelectOption=void 0;var s=n(t),o=n(a),i=n(r),l=e.SelectOption=o.default.extend("SelectOption",{value:"string",label:{type:"string",get:function(e){return e||this.value}}}),p=e.SelectOptionList=i.default.extend("SelectOptionList",{"#":l});e.default=s.default.extend("SelectField",{defaultLabel:{type:"string",value:"Choose a value..."},options:{Type:p,Value:p},optionsPromise:{set:function(e){var t=this;return e&&e.then(function(e){t.options=e}),e}},isSelected:function(e){return e==this.value}})}),define("spectre-canjs@2.0.2#sp-form/fields/sp-select-field/sp-select-field",["exports","can-component","./sp-select-field.stache","./ViewModel"],function(e,t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),o=n(a),i=n(r);e.default=s.default.extend({tag:"sp-select-field",view:o.default,ViewModel:i.default})}),define("spectre-canjs@2.0.2#sp-form/fields/sp-text-field/sp-text-field.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,a){var r=t("sp-form/fields/sp-text-field/sp-text-field.stache",[{tokenType:"chars",args:["\r\n",1]},{tokenType:"start",args:["div",!1,2]},{tokenType:"attrStart",args:["class",2]},{tokenType:"attrValue",args:["form-group ",2]},{tokenType:"special",args:["#if error",2]},{tokenType:"attrValue",args:["has-error",2]},{tokenType:"special",args:["/if",2]},{tokenType:"attrEnd",args:["class",2]},{tokenType:"end",args:["div",!1,2]},{tokenType:"chars",args:["\r\n    ",2]},{tokenType:"special",args:["#unless(inline)",3]},{tokenType:"chars",args:["\r\n        ",3]},{tokenType:"start",args:["label",!1,4]},{tokenType:"attrStart",args:["class",4]},{tokenType:"attrValue",args:["form-label",4]},{tokenType:"attrEnd",args:["class",4]},{tokenType:"attrStart",args:["for",4]},{tokenType:"special",args:["name",4]},{tokenType:"attrEnd",args:["for",4]},{tokenType:"end",args:["label",!1,4]},{tokenType:"special",args:["alias",4]},{tokenType:"close",args:["label",4]},{tokenType:"chars",args:["\r\n    ",4]},{tokenType:"special",args:["/unless",5]},{tokenType:"chars",args:["\r\n    ",5]},{tokenType:"special",args:["#if(textarea)",6]},{tokenType:"chars",args:["\r\n        ",6]},{tokenType:"start",args:["textarea",!1,7]},{tokenType:"attrStart",args:["on:keydown",7]},{tokenType:"attrValue",args:["beforeSubmit(scope.element,scope.event)",7]},{tokenType:"attrEnd",args:["on:keydown",7]},{tokenType:"special",args:["#if placeholder",7]},{tokenType:"attrStart",args:["placeholder",7]},{tokenType:"special",args:["placeholder",7]},{tokenType:"attrEnd",args:["placeholder",7]},{tokenType:"special",args:["/if",7]},{tokenType:"attrStart",args:["class",7]},{tokenType:"attrValue",args:["form-control form-input",7]},{tokenType:"attrEnd",args:["class",7]},{tokenType:"attrStart",args:["name:from",7]},{tokenType:"attrValue",args:["name",7]},{tokenType:"attrEnd",args:["name:from",7]},{tokenType:"special",args:["#if(onInsert)",7]},{tokenType:"attrStart",args:["on:inserted",7]},{tokenType:"attrValue",args:["onInsert(scope.element)",7]},{tokenType:"attrEnd",args:["on:inserted",7]},{tokenType:"special",args:["/if",7]},{tokenType:"attrStart",args:["value:bind",7]},{tokenType:"attrValue",args:["value",7]},{tokenType:"attrEnd",args:["value:bind",7]},{tokenType:"end",args:["textarea",!1,12]},{tokenType:"close",args:["textarea",12]},{tokenType:"chars",args:[" \r\n    ",12]},{tokenType:"special",args:["else",13]},{tokenType:"chars",args:["\r\n        ",13]},{tokenType:"start",args:["input",!0,14]},{tokenType:"attrStart",args:["on:keydown",14]},{tokenType:"attrValue",args:["beforeSubmit(scope.element,scope.event)",14]},{tokenType:"attrEnd",args:["on:keydown",14]},{tokenType:"special",args:["#if placeholder",14]},{tokenType:"attrStart",args:["placeholder",14]},{tokenType:"special",args:["placeholder",14]},{tokenType:"attrEnd",args:["placeholder",14]},{tokenType:"special",args:["/if",14]},{tokenType:"attrStart",args:["type",14]},{tokenType:"special",args:["textType",14]},{tokenType:"attrEnd",args:["type",14]},{tokenType:"attrStart",args:["class",14]},{tokenType:"attrValue",args:["form-control form-input",14]},{tokenType:"attrEnd",args:["class",14]},{tokenType:"attrStart",args:["name:from",14]},{tokenType:"attrValue",args:["name",14]},{tokenType:"attrEnd",args:["name:from",14]},{tokenType:"special",args:["#if(onInsert)",14]},{tokenType:"attrStart",args:["on:inserted",14]},{tokenType:"attrValue",args:["onInsert(scope.element)",14]},{tokenType:"attrEnd",args:["on:inserted",14]},{tokenType:"special",args:["/if",14]},{tokenType:"attrStart",args:["value:bind",14]},{tokenType:"attrValue",args:["value",14]},{tokenType:"attrEnd",args:["value:bind",14]},{tokenType:"end",args:["input",!0,20]},{tokenType:"chars",args:["\r\n    ",20]},{tokenType:"special",args:["/if",21]},{tokenType:"chars",args:["\r\n    ",21]},{tokenType:"special",args:["#if(error)",22]},{tokenType:"start",args:["span",!1,22]},{tokenType:"attrStart",args:["class",22]},{tokenType:"attrValue",args:["form-input-hint",22]},{tokenType:"attrEnd",args:["class",22]},{tokenType:"end",args:["span",!1,22]},{tokenType:"special",args:["error",22]},{tokenType:"close",args:["span",22]},{tokenType:"special",args:["/if",22]},{tokenType:"chars",args:["\r\n",22]},{tokenType:"close",args:["div",23]},{tokenType:"chars",args:["\r\n",23]},{tokenType:"done",args:[24]}]);return function(t,a,n){var s=Object.assign({module:e},a);return r(t,s,n)}}),define("spectre-canjs@2.0.2#sp-form/fields/sp-text-field/ViewModel",["exports","spectre-canjs/util/field/Field"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default=a.default.extend("TextField",{textType:{value:"text",type:"string"},beforeSubmit:function(e,t){return 13===t.keyCode&&e.dispatchEvent(new Event("change")),!0}})}),define("spectre-canjs@2.0.2#sp-form/fields/sp-text-field/sp-text-field",["exports","can-component","./sp-text-field.stache","./ViewModel","can-3-4-compat/dom-mutation-events"],function(e,t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),o=n(a),i=n(r);e.default=s.default.extend({tag:"sp-text-field",view:o.default,ViewModel:i.default})});
//# sourceMappingURL=edit-features-gr-d3cd05fb.js.map