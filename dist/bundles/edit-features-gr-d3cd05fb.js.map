{"version":3,"sources":["../../node_modules/spectre-canjs/util/string/string.js","../../components/identify/util/identifyMapImage.js","../../components/identify/identify.js","../../components/draw-widget/template.stache","../../components/draw-widget/defaults.js","../../components/draw-widget/ViewModel.js","../../components/draw-widget/draw-widget.js"],"names":["capitalize","string","charAt","toUpperCase","slice","toLowerCase","text","String","prototype","trim","call","split","join","replace","assignPopupTemplate","data","popupTemplates","layer","results","map","props","template","_get2","default","id","layerId","feature","popupTemplate","_assign2","title","layerName","content","type","fieldInfos","Object","keys","attributes","f","fieldName","label","_string","makeSentenceCase","visible","serialize","event","scope","_esriLoader","loadModules","then","_ref","_ref2","_slicedToArray","IdentifyParameters","IdentifyTask","include","layerInfos","exclude","params","layerIds","sublayers","filter","l","length","indexOf","layerOption","returnGeometry","spatialReference","mapPoint","tolerance","geometry","height","view","width","mapExtent","extent","url","execute","result","geometryEngine","modules","_modules","IDENTIFY_METHODS","exports","esri.layers.MapImageLayer","_identifyMapImage2","esri.layers.FeatureLayer","hitTest","graphic","declaredClass","_map2","extend","clickHandle","timeout","value","set","this","remove","on","identify","bind","_this","stopPropagation","popup","features","promises","layers","allLayers","toArray","sort","a","b","aIndex","forEach","hasOwnProperty","promise","Promise","resolve","isResolved","catch","e","setTimeout","push","all","identifiedFeatures","reduce","concat","geoms","center","distances","geom","index","distance","ret","Math","round","open","selectedFeatureIndex","updateLocationEnabled","define","module","stache","mustacheCore","renderer","tokenType","args","options","nodeList","moduleOptions","assign","graphics","pointSymbol","style","color","size","outline","polylineSymbol","polygonSymbol","buttons","point","tooltip","iconClass","polyline","polygon","sketch","destroy","sketchHandle","evt","graphicsLayer","add","continueDraw","create","active","handle","viewHandle","reset","geometries","types","_defaults","allowContinuous","_this2","GraphicsLayer","SketchViewModel","gl","_decorateAccessor2","listMode","draw","clearGraphics","removeAll","_canComponent2","tag","ViewModel","_ViewModel2","_template2","events","removed","viewModel"],"mappings":"qFAAA,SAASA,EAAYC,GACjB,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GAAGC,cAAAA,OAAAA,eAAAA,EAAAA,cAAAA,OAAAA,IAAAA,EAAAA,iBAUrD,SAA2BC,GAE9B,OADAA,EAAOC,OAAOD,GACPN,EAAWO,OAAOC,UAAUC,KAAKC,KACpCJ,EAAKK,MAAM,KACNC,KAAK,KACLP,cACAQ,QAAQ,MAAO,iRCX5B,SAASC,EAAqBC,EAAMC,EAAgBC,GAEhD,OAAOF,EAAKG,QAAUH,EAAKG,QAAQC,IAAI,SAACC,GAGpC,IAAMC,GAAAA,EAAWC,EAAAC,SAAIP,EAAmBC,EAAMO,GAA7B,IAAmCJ,EAAMK,aAkB1D,OAfAL,EAAMM,QAAQC,eAAAA,EAAgBC,EAAAL,UAC1BM,MAAOT,EAAMU,UACbC,UACIC,KAAM,SACNC,WAAYC,OAAOC,KAAKf,EAAMM,QAAQU,YAAYjB,IAAI,SAACkB,GACnD,OACIC,UAAWD,EACXE,OAAAA,EAAOC,EAAAC,kBAAiBJ,GACxBK,SAAAA,QAIbrB,EAASsB,UAAYtB,EAASsB,YAActB,GAGxCD,EAAMM,aAAAA,OAAAA,eAAAA,EAAAA,cAAAA,OAAAA,IAAAA,EAAAA,QAIN,SAAmBkB,EAAO3B,EAAO4B,GAE5C,OAAA,EAAOC,EAAAC,cACH,wCACA,4BACDC,KAAK,SAAAC,GAAwC,IAAAC,EAAAC,EAAAF,EAAA,GAAtCG,EAAsCF,EAAA,GAAlBG,EAAkBH,EAAA,GAEtCI,GAAAA,EAAUhC,EAAAC,SAAIsB,EAAMU,WAAetC,EAAMO,GAA/B,YACVgC,GAAAA,EAAUlC,EAAAC,SAAIsB,EAAMU,WAAetC,EAAMO,GAA/B,YAqBViC,EAAS,IAAIL,GACfM,SAnBazC,EAAM0C,UAAUC,OAAO,SAACC,GAGrC,QAAIP,IAAWA,EAAQQ,SAAqC,IAA3BR,EAAQS,QAAQF,EAAErC,QAK/CgC,GAAWA,EAAQM,QAAUN,EAAQO,QAAQF,EAAErC,KAAO,IAKnDqC,EAAEnB,UACVvB,IAAI,SAAC0C,GACJ,OAAOA,EAAErC,KAKTwC,YAAa,UACbC,gBAAAA,EACAC,iBAAkBtB,EAAMuB,SAASD,iBACjCE,UAAW,GACXC,SAAUzB,EAAMuB,SAChBG,OAAQzB,EAAM0B,KAAKD,OACnBE,MAAO3B,EAAM0B,KAAKC,MAClBC,UAAW5B,EAAM0B,KAAKG,SAO1B,OAJa,IAAIrB,GACbsB,IAAK1D,EAAM0D,MAGHC,QAAQnB,GAAQT,KAAK,SAAC6B,GAE9B,OADiB/D,EAAoB+D,EAAQhC,EAAM7B,eAAgBC,QAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,WAAAA,SAAAA,EAAAA,EAAAA,GAAAA,IAAAA,KAAAA,GAAAA,EAAAA,GAAAA,EAAAA,OAAAA,EAAAA,IAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,OAAAA,cAAAA,GAAAA,EAAAA,EAAAA,QAAAA,QAAAA,EAAAA,KAAAA,EAAAA,QAAAA,GAAAA,EAAAA,SAAAA,GAAAA,GAAAA,IAAAA,MAAAA,GAAAA,GAAAA,EAAAA,EAAAA,EAAAA,QAAAA,KAAAA,GAAAA,EAAAA,QAAAA,EAAAA,SAAAA,QAAAA,GAAAA,EAAAA,MAAAA,GAAAA,OAAAA,EAAAA,OAAAA,SAAAA,EAAAA,GAAAA,GAAAA,MAAAA,QAAAA,GAAAA,OAAAA,EAAAA,GAAAA,OAAAA,YAAAA,OAAAA,GAAAA,OAAAA,EAAAA,EAAAA,GAAAA,MAAAA,IAAAA,UAAAA,yDAAAA,0tBC3E3E6D,OAAAA,GAAA,EACJhC,EAAAC,cAAa,iCAAiCC,KAAK,SAAC+B,GAAY,IAAAC,EAAA7B,EACzC4B,EADyC,GAC3DD,EAD2DE,EAAA,KAIzD,IAAMC,EAAAC,EAAAD,kBACTE,4BAAAC,EAAA7D,QACA8D,2BAA4B,SAAUzC,EAAO3B,EAAO4B,GAChD,OAAOA,EAAM0B,KAAKe,QAAQ1C,GAAOI,KAAK,SAACsC,GAGnC,OAAOA,EAAQpE,QAAQ0C,OAAO,SAACiB,GAC3B,OAAOA,EAAOU,QAAQtE,OAAgD,gCAAvC4D,EAAOU,QAAQtE,MAAMuE,gBACrDrE,IAAI,SAAC0D,GACJ,OAAOA,EAAOU,cAAAA,EAAAA,QAYfE,EAAAlE,QAAUmE,QACrBC,YAAa,IACbpC,WAAAkC,EAAAlE,QACAqE,SAAU5D,KAAM,SAAU6D,MAAO,KACjCtB,MACIvC,KAAM,IACN8D,IAFE,SAEGvB,GAYD,OATIwB,KAAKJ,aACLI,KAAKJ,YAAYK,SAIjBzB,IACAwB,KAAKJ,YAAcpB,EAAK0B,GAAG,QAASF,KAAKG,SAASC,KAAKJ,QAGpDxB,IAIf2B,SAtB4B,SAsBlBtD,GAAO,IAAAwD,EAAAL,KACbnD,EAAMyD,kBAGNN,KAAKxB,KAAK+B,MAAMC,YAEhB,IAAMC,KACAC,EAASV,KAAKxB,KAAKpD,IAAIuF,UAoD7B,OAhDAD,EAAOE,UAAUC,KAAK,SAACC,EAAGC,GACtB,GAAwB,6BAApBD,EAAErB,cACF,OAAQ,EAEZ,IAAMuB,EAASN,EAAO1C,QAAQ8C,GAE9B,OADeJ,EAAO1C,QAAQ+C,GACdC,IAIfC,QAAQ,SAAC/F,GAEN,GAAKA,EAAMyB,SAGPuC,EAAiBgC,eAAehG,EAAMuE,eAAgB,CAGtD,IAAM0B,EAAU,IAAIC,QAAQ,SAACC,GACzB,IAAIC,GAAAA,EACJpC,EAAiBhE,EAAMuE,eAAe5C,EAAO3B,EAA7CmF,GAA0DpD,KAAK,SAAC6B,GAI5DwC,GAAAA,EACAD,EAAQvC,KACTyC,MAAM,SAACC,GAENH,QAGJI,WAAW,WACHH,GAIJD,OACDhB,EAAKR,WAIZY,EAASiB,KAAKP,MAOnBC,QAAQO,IAAIlB,GAAUxD,KAAK,SAACjC,GAG/B,IAAM4G,EAAqB5G,EAAK6G,OAAO,SAACf,EAAGC,GACvC,OAAOD,EAAEgB,OAAOf,QAiCpB,OA7BAa,EAAmBf,KAAK,SAACC,EAAGC,GACxB,IAAMgB,GAASjB,EAAGC,GAAG3F,IAAI,SAACkB,GACtB,OAAOA,EAAEgC,SAASK,OAASrC,EAAEgC,SAASK,OAAOqD,OAAS1F,EAAEgC,WAEtD2D,EAAYF,EAAM3G,IAAI,SAAC8G,EAAMC,GAC/B,OAAOpD,EAAeqD,SAASvF,EAAMuB,SAAU2D,EAAMI,GAAQ,UAG3DE,EAAMJ,EAAU,GAAKA,EAAU,GAGrC,GAAIK,KAAKC,MAAY,IAANF,GAAa,KAAQ,EAAG,CACnC,GAAIvB,EAAE5F,OAAmC,6BAA1B4F,EAAE5F,MAAMuE,cACnB,OAAQ,EAEZ,GAAIsB,EAAE7F,OAAmC,6BAA1B6F,EAAE7F,MAAMuE,cACnB,OAAO,EAGf,OAAO4C,IAGPT,EAAmB7D,QACnBsC,EAAK7B,KAAK+B,MAAMiC,MACZC,qBAAsB,EACtBjC,SAAUoB,EACVc,uBAAAA,IAGDd,SCpJnBe,OAAAA,2FAAQ,SAAS,aAAa,+BAA+B,wCAAwC,iDAAiD,SAASC,EAAQC,EAAQC,GAC9K,IAAIC,EAAWF,EAAO,2CAA4CG,UAAY,QAAQC,MAAQ,OAAA,EAAY,KAAKD,UAAY,YAAYC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,iBAAiB,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,MAAMC,MAAQ,OAAA,EAAY,KAAKD,UAAY,QAAQC,MAAQ,4BAA4B,KAAKD,UAAY,UAAUC,MAAQ,gCAAgC,KAAKD,UAAY,QAAQC,MAAQ,eAAe,KAAKD,UAAY,UAAUC,MAAQ,iCAAiC,KAAKD,UAAY,QAAQC,MAAQ,eAAe,KAAKD,UAAY,QAAQC,MAAQ,UAAA,EAAe,KAAKD,UAAY,YAAYC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,2BAA2B,KAAKD,UAAY,UAAUC,MAAQ,2BAA2B,KAAKD,UAAY,YAAYC,MAAQ,SAAS,KAAKD,UAAY,UAAUC,MAAQ,MAAM,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,eAAe,KAAKD,UAAY,UAAUC,MAAQ,iBAAiB,KAAKD,UAAY,UAAUC,MAAQ,eAAe,KAAKD,UAAY,YAAYC,MAAQ,OAAO,KAAKD,UAAY,YAAYC,MAAQ,SAAS,KAAKD,UAAY,UAAUC,MAAQ,OAAO,KAAKD,UAAY,YAAYC,MAAQ,cAAc,KAAKD,UAAY,YAAYC,MAAQ,sBAAsB,KAAKD,UAAY,UAAUC,MAAQ,cAAc,KAAKD,UAAY,MAAMC,MAAQ,UAAA,EAAe,KAAKD,UAAY,QAAQC,MAAQ,KAAA,EAAU,KAAKD,UAAY,YAAYC,MAAQ,QAAQ,KAAKD,UAAY,UAAUC,MAAQ,mBAAmB,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,MAAMC,MAAQ,KAAA,EAAU,KAAKD,UAAY,QAAQC,MAAQ,IAAI,KAAKD,UAAY,QAAQC,MAAQ,SAAS,KAAKD,UAAY,QAAQC,MAAQ,eAAe,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,QAAQC,MAAQ,WAAW,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,QAAQC,MAAQ,WAAW,KAAKD,UAAY,UAAUC,MAAQ,2CAA2C,KAAKD,UAAY,QAAQC,MAAQ,eAAe,KAAKD,UAAY,QAAQC,MAAQ,UAAA,EAAe,KAAKD,UAAY,YAAYC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,yBAAyB,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,eAAe,KAAKD,UAAY,YAAYC,MAAQ,kBAAkB,KAAKD,UAAY,UAAUC,MAAQ,eAAe,KAAKD,UAAY,YAAYC,MAAQ,cAAc,KAAKD,UAAY,YAAYC,MAAQ,kBAAkB,KAAKD,UAAY,UAAUC,MAAQ,cAAc,KAAKD,UAAY,MAAMC,MAAQ,UAAA,EAAe,KAAKD,UAAY,QAAQC,MAAQ,eAAe,KAAKD,UAAY,QAAQC,MAAQ,KAAA,EAAU,KAAKD,UAAY,YAAYC,MAAQ,QAAQ,KAAKD,UAAY,YAAYC,MAAQ,kBAAkB,KAAKD,UAAY,UAAUC,MAAQ,QAAQ,KAAKD,UAAY,MAAMC,MAAQ,KAAA,EAAU,KAAKD,UAAY,QAAQC,MAAQ,IAAI,KAAKD,UAAY,QAAQC,MAAQ,SAAS,KAAKD,UAAY,QAAQC,MAAQ,WAAW,KAAKD,UAAY,UAAUC,MAAQ,MAAM,MAAMD,UAAY,QAAQC,MAAQ,OAAO,MAAMD,UAAY,QAAQC,MAAQ,MAAM,MAAMD,UAAY,QAAQC,MAAQ,OAAO,MAAMD,UAAY,UAAUC,MAAQ,sBAAsB,MAAMD,UAAY,QAAQC,MAAQ,WAAW,MAAMD,UAAY,QAAQC,MAAQ,OAAA,EAAY,MAAMD,UAAY,YAAYC,MAAQ,QAAQ,MAAMD,UAAY,YAAYC,MAAQ,aAAa,MAAMD,UAAY,UAAUC,MAAQ,QAAQ,MAAMD,UAAY,MAAMC,MAAQ,OAAA,EAAY,MAAMD,UAAY,QAAQC,MAAQ,eAAe,MAAMD,UAAY,QAAQC,MAAQ,SAAA,EAAc,MAAMD,UAAY,YAAYC,MAAQ,QAAQ,MAAMD,UAAY,YAAYC,MAAQ,cAAc,MAAMD,UAAY,UAAUC,MAAQ,QAAQ,MAAMD,UAAY,MAAMC,MAAQ,SAAA,EAAc,MAAMD,UAAY,QAAQC,MAAQ,mBAAmB,MAAMD,UAAY,QAAQC,MAAQ,SAAA,EAAa,MAAMD,UAAY,YAAYC,MAAQ,OAAO,MAAMD,UAAY,YAAYC,MAAQ,WAAW,MAAMD,UAAY,UAAUC,MAAQ,OAAO,MAAMD,UAAY,YAAYC,MAAQ,kBAAkB,MAAMD,UAAY,YAAYC,MAAQ,eAAe,MAAMD,UAAY,UAAUC,MAAQ,kBAAkB,MAAMD,UAAY,MAAMC,MAAQ,SAAA,EAAa,MAAMD,UAAY,QAAQC,MAAQ,mBAAmB,MAAMD,UAAY,QAAQC,MAAQ,KAAA,EAAU,MAAMD,UAAY,YAAYC,MAAQ,QAAQ,MAAMD,UAAY,YAAYC,MAAQ,YAAY,MAAMD,UAAY,UAAUC,MAAQ,QAAQ,MAAMD,UAAY,MAAMC,MAAQ,KAAA,EAAU,MAAMD,UAAY,QAAQC,MAAQ,IAAI,MAAMD,UAAY,QAAQC,MAAQ,yCAAyC,MAAMD,UAAY,QAAQC,MAAQ,QAAQ,MAAMD,UAAY,QAAQC,MAAQ,WAAW,MAAMD,UAAY,QAAQC,MAAQ,MAAM,MAAMD,UAAY,QAAQC,MAAQ,OAAO,MAAMD,UAAY,UAAUC,MAAQ,MAAM,MAAMD,UAAY,OAAOC,MAAQ,OAC5xJ,OAAO,SAASnG,EAAOoG,EAASC,GAC/B,IAAIC,EAAgBjH,OAAOkH,QAAUT,OAAQA,GAAUM,GACvD,OAAOH,EAASjG,EAAOsG,EAAeD,sJCJ3BhE,EAAAmE,UACTC,aACItH,KAAM,gBACNuH,MAAO,SACPC,MAAO,UACPC,KAAM,OACNC,SACIF,OAAQ,IAAK,IAAK,KAClBhF,MAAO,IAGfmF,gBACI3H,KAAM,cACNwH,MAAO,UACPhF,MAAO,IACP+E,MAAO,QAEXK,eACI5H,KAAM,cACNwH,MAAO,wBACPD,MAAO,QACPG,SACIF,MAAO,QACPhF,MAAO,KAKNU,EAAA2E,SACTC,OACI9H,KAAM,QACN+H,QAAS,eACTC,UAAW,2BAEfC,UACIjI,KAAM,WACN+H,QAAS,cACTC,UAAW,sBAEfE,SACIlI,KAAM,UACN+H,QAAS,iBACTC,UAAW,yvBCrCJvE,EAAAlE,QAAUmE,OAAO,cAC5ByE,QACInI,KAAM,IACN8D,IAFI,SAECqE,GAAQ,IAAA/D,EAAAL,KAsBT,OArBIA,KAAKoE,QACLpE,KAAKoE,OAAOC,UAGZD,IACApE,KAAKsE,aAAeF,EAAOlE,GAAG,gBAAiB,SAACqE,GAC5ClE,EAAKmE,cAAcC,IAAIF,EAAI/E,SACvBa,EAAKqE,aACLjD,WAAW,WACP2C,EAAOO,OAAOtE,EAAKuE,UAKvBnD,WAAW,WACPpB,EAAKuE,OAAS,UAMvBR,IAGfE,cACIrI,KAAM,IACN8D,IAFU,SAEL8E,GAID,OAHI7E,KAAKsE,cACLtE,KAAKsE,aAAarE,SAEf4E,IAGfL,iBACAI,QACI3I,KAAM,SACN8D,IAFI,SAEC9D,GACD,OAAKA,GAQL+D,KAAK8E,WAAa9E,KAAKxB,KAAK0B,GAAG,QAAS,SAACqE,GACrCA,EAAIjE,oBAERN,KAAKoE,OAAOO,OAAO1I,GACZA,IAXC+D,KAAKoE,QACLpE,KAAKoE,OAAOW,QAEhB/E,KAAK8E,WAAa,KACX7I,KAUnB+I,YACI/I,KADQ,SACFgJ,GACF,MAAqB,iBAAVA,EACAA,EAAMrK,MAAM,KAEhBqK,GAEXnF,MAPQ,WAQJ,OAAQ,QAAS,WAAY,aAGrCgE,SAAUhE,MAAAoF,EAAApB,SACVqB,iBAAkBrF,OAAAA,EAAa7D,KAAM,WACrCyI,cAAe5E,OAAAA,EAAc7D,KAAM,WACnCuC,MACIuB,IADE,SACGvB,GAAM,IAAA4G,EAAApF,KAkCP,OAjCIA,KAAKwE,eAAiBxE,KAAKxB,MAAQwB,KAAKxB,KAAKpD,KAE7C4E,KAAKxB,KAAKpD,IAAI6E,OAAOD,KAAKwE,eAE9BxE,KAAKsE,aAAe,KACpBtE,KAAKoE,OAAS,KACdpE,KAAK8E,WAAa,KAEdtG,IAAAA,EACAzB,EAAAC,cACI,4BACA,wCACDC,KAAK,SAAAC,GAAsC,IAAAC,EAAAC,EAAAF,EAAA,GAApCmI,EAAoClI,EAAA,GAArBmI,EAAqBnI,EAAA,GAGpCoI,EAAKH,EAAKZ,gBAAAA,EAAiBgB,EAAAhK,SAAS,IAAI6J,GAC1CvJ,MAAO,qBACP2J,SAAU,UAEdjH,EAAKpD,IAAIqJ,IAAIc,GACbH,EAAKZ,cAAgBe,EAGrB,IAAMnB,EAAS,IAAIkB,GACf9G,KAAMA,EACN+E,YAAa2B,EAAA5B,SAASC,YACtBK,eAAgBsB,EAAA5B,SAASM,eACzBC,cAAeqB,EAAA5B,SAASO,gBAE5BuB,EAAKhB,OAASA,IAIf5F,IAIfsG,YACI7I,KAAM,IACN8D,IAFQ,SAEH8E,GAID,OAHI7E,KAAK8E,YACL9E,KAAK8E,WAAW7E,SAEb4E,IAGfa,KAtH0C,SAsHpCzJ,GACF+D,KAAK4E,OAAS3I,IAAS+D,KAAK4E,OAAS,KAAO3I,GAEhD0J,cAzH0C,WA0HtC3F,KAAKwE,cAAclB,SAASsC,kTC3HrBC,EAAArK,QAAUmE,QACrBmG,IAAK,cACLC,UAAAC,EAAAxK,QACAgD,KAAAyH,EAAAzK,QACA0K,QACIC,QADI,WAEAnG,KAAKoG,UAAU5H,KAAO","file":"../../node_modules/spectre-canjs/util/string/string.js"}