{"version":3,"sources":["../../components/identify/util/identifyMapImage.js","../../components/identify/identify.js"],"names":["event","view","layer","layerInfos","Promise","resolve","_esriPromise2","default","then","_ref","_ref2","_slicedToArray","IdentifyParameters","IdentifyTask","include","_get2","id","exclude","params","layerIds","sublayers","filter","l","length","indexOf","visible","map","layerOption","returnGeometry","spatialReference","mapPoint","tolerance","geometry","height","width","mapExtent","extent","url","execute","result","IDENTIFY_METHODS","exports","esri.layers.MapImageLayer","_identifyMapImage2","geometryEngine","engine","_map2","extend","clickHandle","type","set","this","remove","on","identify","bind","_this","popup","features","promises","p","allLayers","forEach","hasOwnProperty","declaredClass","_promise","promise","layerId","push","_dev2","warn","setTimeout","all","data","identifiedFeatures","reduce","a","b","concat","assignPopupTemplate","sort","geoms","f","center","distances","geom","index","distance","open","selectedFeatureIndex","updateLocationEnabled","_this2","results","props","template","feature","popupTemplate","_assign2","title","layerName","content","fieldInfos","Object","keys","attributes","fieldName","label","_string","makeSentenceCase","serialize"],"mappings":"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","file":"../../components/identify/util/identifyMapImage.js"}