define("can-arcgis@2.2.2#components/edit-feature-widget/template.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,n){var a=t("components/edit-feature-widget/template.stache",[{tokenType:"start",args:["p",!1,1]},{tokenType:"attrStart",args:["class",1]},{tokenType:"attrValue",args:["text-bold",1]},{tokenType:"attrEnd",args:["class",1]},{tokenType:"end",args:["p",!1,1]},{tokenType:"special",args:["title",1]},{tokenType:"close",args:["p",1]},{tokenType:"chars",args:["\r\n\r\n",1]},{tokenType:"special",args:["#if editLayer",3]},{tokenType:"chars",args:["\r\n\r\n    ",3]},{tokenType:"start",args:["ul",!1,5]},{tokenType:"attrStart",args:["class",5]},{tokenType:"attrValue",args:["menu",5]},{tokenType:"attrEnd",args:["class",5]},{tokenType:"end",args:["ul",!1,5]},{tokenType:"chars",args:["\r\n        ",5]},{tokenType:"start",args:["li",!1,6]},{tokenType:"attrStart",args:["class",6]},{tokenType:"attrValue",args:["menu-item",6]},{tokenType:"attrEnd",args:["class",6]},{tokenType:"attrStart",args:["on:click",6]},{tokenType:"attrValue",args:["deactivate()",6]},{tokenType:"attrEnd",args:["on:click",6]},{tokenType:"end",args:["li",!1,6]},{tokenType:"chars",args:["\r\n            ",6]},{tokenType:"start",args:["a",!1,7]},{tokenType:"end",args:["a",!1,7]},{tokenType:"start",args:["i",!1,7]},{tokenType:"attrStart",args:["class",7]},{tokenType:"attrValue",args:["esri-icon-left",7]},{tokenType:"attrEnd",args:["class",7]},{tokenType:"end",args:["i",!1,7]},{tokenType:"close",args:["i",7]},{tokenType:"chars",args:[" Back",7]},{tokenType:"close",args:["a",7]},{tokenType:"chars",args:["\r\n        ",7]},{tokenType:"close",args:["li",8]},{tokenType:"chars",args:["\r\n    ",8]},{tokenType:"close",args:["ul",9]},{tokenType:"chars",args:["\r\n    ",9]},{tokenType:"start",args:["br",!0,10]},{tokenType:"end",args:["br",!0,10]},{tokenType:"chars",args:["\r\n    \r\n    ",10]},{tokenType:"special",args:["#if(graphicsLayer.graphics.items.length)",12]},{tokenType:"chars",args:["\r\n        ",12]},{tokenType:"special",args:["#if(error)",13]},{tokenType:"chars",args:["\r\n            ",13]},{tokenType:"start",args:["sp-toast",!1,14]},{tokenType:"attrStart",args:["body:from",14]},{tokenType:"attrValue",args:["error",14]},{tokenType:"attrEnd",args:["body:from",14]},{tokenType:"attrStart",args:["severity:from",14]},{tokenType:"attrValue",args:["'error'",14]},{tokenType:"attrEnd",args:["severity:from",14]},{tokenType:"end",args:["sp-toast",!1,14]},{tokenType:"close",args:["sp-toast",14]},{tokenType:"chars",args:["\r\n        ",14]},{tokenType:"special",args:["/if",15]},{tokenType:"chars",args:["\r\n\r\n        ",15]},{tokenType:"special",args:["#if(editFields.length)",17]},{tokenType:"chars",args:["\r\n        ",17]},{tokenType:"start",args:["p",!1,18]},{tokenType:"end",args:["p",!1,18]},{tokenType:"chars",args:["Add Details:",18]},{tokenType:"close",args:["p",18]},{tokenType:"chars",args:["\r\n        \r\n        ",18]},{tokenType:"start",args:["sp-form",!1,20]},{tokenType:"attrStart",args:["is:u:saving:bind",20]},{tokenType:"attrValue",args:["isSaving",20]},{tokenType:"attrEnd",args:["is:u:saving:bind",20]},{tokenType:"attrStart",args:["on:submit",20]},{tokenType:"attrValue",args:["submitForm(scope.arguments)",20]},{tokenType:"attrEnd",args:["on:submit",20]},{tokenType:"attrStart",args:["on:cancel",20]},{tokenType:"attrValue",args:["cancelForm()",20]},{tokenType:"attrEnd",args:["on:cancel",20]},{tokenType:"attrStart",args:["fields:from",20]},{tokenType:"attrValue",args:["editFields",20]},{tokenType:"attrEnd",args:["fields:from",20]},{tokenType:"attrStart",args:["object:from",20]},{tokenType:"attrValue",args:["editGraphic",20]},{tokenType:"attrEnd",args:["object:from",20]},{tokenType:"end",args:["sp-form",!1,25]},{tokenType:"close",args:["sp-form",25]},{tokenType:"chars",args:["\r\n        ",25]},{tokenType:"special",args:["/if",26]},{tokenType:"chars",args:["\r\n    ",26]},{tokenType:"special",args:["else",27]},{tokenType:"chars",args:["\r\n        ",27]},{tokenType:"start",args:["p",!1,28]},{tokenType:"end",args:["p",!1,28]},{tokenType:"chars",args:["Create ",28]},{tokenType:"special",args:["editLayer.title",28]},{tokenType:"chars",args:[":\r\n        ",28]},{tokenType:"start",args:["draw-widget",!1,29]},{tokenType:"attrStart",args:["geometries:from",29]},{tokenType:"attrValue",args:["editLayer.geometryType",29]},{tokenType:"attrEnd",args:["geometries:from",29]},{tokenType:"attrStart",args:["view:from",29]},{tokenType:"attrValue",args:["view",29]},{tokenType:"attrEnd",args:["view:from",29]},{tokenType:"attrStart",args:["graphics:u:layer:bind",29]},{tokenType:"attrValue",args:["graphicsLayer",29]},{tokenType:"attrEnd",args:["graphics:u:layer:bind",29]},{tokenType:"attrStart",args:["allow:u:continuous:from",29]},{tokenType:"attrValue",args:["false",29]},{tokenType:"attrEnd",args:["allow:u:continuous:from",29]},{tokenType:"end",args:["draw-widget",!1,32]},{tokenType:"close",args:["draw-widget",32]},{tokenType:"close",args:["p",32]},{tokenType:"chars",args:["\r\n    ",32]},{tokenType:"special",args:["/if",33]},{tokenType:"chars",args:["\r\n\r\n",33]},{tokenType:"special",args:["else",35]},{tokenType:"chars",args:["\r\n    ",35]},{tokenType:"start",args:["ul",!1,36]},{tokenType:"attrStart",args:["class",36]},{tokenType:"attrValue",args:["menu",36]},{tokenType:"attrEnd",args:["class",36]},{tokenType:"end",args:["ul",!1,36]},{tokenType:"chars",args:["\r\n        ",36]},{tokenType:"special",args:["#each(layers, layer=value)",37]},{tokenType:"chars",args:["\r\n        ",37]},{tokenType:"start",args:["li",!1,38]},{tokenType:"attrStart",args:["class",38]},{tokenType:"attrValue",args:["menu-item",38]},{tokenType:"attrEnd",args:["class",38]},{tokenType:"attrStart",args:["on:click",38]},{tokenType:"attrValue",args:["../activate(layer)",38]},{tokenType:"attrEnd",args:["on:click",38]},{tokenType:"end",args:["li",!1,38]},{tokenType:"chars",args:["\r\n            ",38]},{tokenType:"start",args:["div",!1,39]},{tokenType:"attrStart",args:["class",39]},{tokenType:"attrValue",args:["tile tile-centered",39]},{tokenType:"attrEnd",args:["class",39]},{tokenType:"end",args:["div",!1,39]},{tokenType:"chars",args:["\r\n            ",39]},{tokenType:"start",args:["div",!1,40]},{tokenType:"attrStart",args:["class",40]},{tokenType:"attrValue",args:["tile-icon",40]},{tokenType:"attrEnd",args:["class",40]},{tokenType:"end",args:["div",!1,40]},{tokenType:"chars",args:["\r\n                ",40]},{tokenType:"start",args:["div",!1,41]},{tokenType:"attrStart",args:["class",41]},{tokenType:"attrValue",args:["example-tile-icon",41]},{tokenType:"attrEnd",args:["class",41]},{tokenType:"end",args:["div",!1,41]},{tokenType:"chars",args:["\r\n                ",41]},{tokenType:"start",args:["i",!1,42]},{tokenType:"attrStart",args:["class",42]},{tokenType:"attrValue",args:["esri-icon-",42]},{tokenType:"special",args:["#eq(layer.geometryType, 'point')",42]},{tokenType:"attrValue",args:["map-pin",42]},{tokenType:"special",args:["else",42]},{tokenType:"special",args:["layer.geometryType",42]},{tokenType:"special",args:["/eq",42]},{tokenType:"attrEnd",args:["class",42]},{tokenType:"end",args:["i",!1,42]},{tokenType:"close",args:["i",42]},{tokenType:"chars",args:["\r\n                ",42]},{tokenType:"close",args:["div",43]},{tokenType:"chars",args:["\r\n            ",43]},{tokenType:"close",args:["div",44]},{tokenType:"chars",args:["\r\n            ",44]},{tokenType:"start",args:["div",!1,45]},{tokenType:"attrStart",args:["class",45]},{tokenType:"attrValue",args:["tile-content",45]},{tokenType:"attrEnd",args:["class",45]},{tokenType:"end",args:["div",!1,45]},{tokenType:"chars",args:["\r\n                ",45]},{tokenType:"start",args:["div",!1,46]},{tokenType:"attrStart",args:["class",46]},{tokenType:"attrValue",args:["tile-title",46]},{tokenType:"attrEnd",args:["class",46]},{tokenType:"end",args:["div",!1,46]},{tokenType:"special",args:["layer.title",46]},{tokenType:"close",args:["div",46]},{tokenType:"chars",args:["\r\n            ",46]},{tokenType:"close",args:["div",47]},{tokenType:"chars",args:["\r\n            ",47]},{tokenType:"start",args:["div",!1,48]},{tokenType:"attrStart",args:["class",48]},{tokenType:"attrValue",args:["tile-action",48]},{tokenType:"attrEnd",args:["class",48]},{tokenType:"end",args:["div",!1,48]},{tokenType:"chars",args:["\r\n                ",48]},{tokenType:"start",args:["button",!1,49]},{tokenType:"attrStart",args:["class",49]},{tokenType:"attrValue",args:["btn btn-link",49]},{tokenType:"attrEnd",args:["class",49]},{tokenType:"end",args:["button",!1,49]},{tokenType:"chars",args:["\r\n                ",49]},{tokenType:"start",args:["i",!1,50]},{tokenType:"attrStart",args:["class",50]},{tokenType:"attrValue",args:["esri-icon-right",50]},{tokenType:"attrEnd",args:["class",50]},{tokenType:"end",args:["i",!1,50]},{tokenType:"close",args:["i",50]},{tokenType:"chars",args:["\r\n                ",50]},{tokenType:"close",args:["button",51]},{tokenType:"chars",args:["\r\n            ",51]},{tokenType:"close",args:["div",52]},{tokenType:"chars",args:["\r\n            ",52]},{tokenType:"close",args:["div",53]},{tokenType:"chars",args:["\r\n        ",53]},{tokenType:"close",args:["li",54]},{tokenType:"chars",args:["\r\n        ",54]},{tokenType:"special",args:["/each",55]},{tokenType:"chars",args:["\r\n    ",55]},{tokenType:"close",args:["ul",56]},{tokenType:"chars",args:["\r\n",56]},{tokenType:"special",args:["/if",57]},{tokenType:"done",args:[57]}]);return function(t,n,r){var o=Object.assign({module:e},n);return a(t,o,r)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("flatpickr@4.2.4#dist/flatpickr",["exports"],t):t(e.flatpickr={})}(this,function(e){"use strict";function t(e,t,n){void 0===n&&(n=!1);var a;return function(){var r=this,o=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,n||e.apply(r,o)},t),n&&!a&&e.apply(r,o)}}function n(e){return(e.wheelDelta||-e.deltaY)>=0?1:-1}function a(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function r(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function o(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function i(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(e,t){return t(e)?e:e.parentNode?s(e.parentNode,t):void 0}function l(e,t){var n=o("div","numInputWrapper"),a=o("input","numInput "+e),r=o("span","arrowUp"),i=o("span","arrowDown");if(a.type="text",a.pattern="\\d*",void 0!==t)for(var s in t)a.setAttribute(s,t[s]);return n.appendChild(a),n.appendChild(r),n.appendChild(i),n}function c(e,c){function d(){Me.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=Me.currentMonth),void 0===t&&(t=Me.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:Me.l10n.daysInMonth[e]}}}function m(e){return e.bind(Me)}function h(e){Me.config.noCalendar&&0===Me.selectedDates.length&&(Me.setDate(void 0!==Me.config.minDate?new Date(Me.config.minDate.getTime()):(new Date).setHours(Me.config.defaultHour,Me.config.defaultMinute,Me.config.defaultSeconds,0),!1),x(),be()),Ce(e),0!==Me.selectedDates.length&&("input"!==e.type?(x(),be()):setTimeout(function(){x(),be()},M))}function v(e,t){return e%12+12*g(t===Me.l10n.amPM[1])}function C(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function x(){if(void 0!==Me.hourElement&&void 0!==Me.minuteElement){var e=(parseInt(Me.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(Me.minuteElement.value,10)||0)%60,n=void 0!==Me.secondElement?(parseInt(Me.secondElement.value,10)||0)%60:0;void 0!==Me.amPM&&(e=v(e,Me.amPM.textContent));var r=void 0!==Me.config.minTime||Me.config.minDate&&Me.minDateHasTime&&Me.latestSelectedDateObj&&0===a(Me.latestSelectedDateObj,Me.config.minDate,!0);if(void 0!==Me.config.maxTime||Me.config.maxDate&&Me.maxDateHasTime&&Me.latestSelectedDateObj&&0===a(Me.latestSelectedDateObj,Me.config.maxDate,!0)){var o=void 0!==Me.config.maxTime?Me.config.maxTime:Me.config.maxDate;(e=Math.min(e,o.getHours()))===o.getHours()&&(t=Math.min(t,o.getMinutes()))}if(r){var i=void 0!==Me.config.minTime?Me.config.minTime:Me.config.minDate;(e=Math.max(e,i.getHours()))===i.getHours()&&(t=Math.max(t,i.getMinutes()))}_(e,t,n)}}function S(e){var t=e||Me.latestSelectedDateObj;t&&_(t.getHours(),t.getMinutes(),t.getSeconds())}function _(e,t,n){void 0!==Me.latestSelectedDateObj&&Me.latestSelectedDateObj.setHours(e%24,t,n||0,0),Me.hourElement&&Me.minuteElement&&!Me.isMobile&&(Me.hourElement.value=p(Me.config.time_24hr?e:(12+e)%12+12*g(e%12==0)),Me.minuteElement.value=p(t),void 0!==Me.amPM&&(Me.amPM.textContent=Me.l10n.amPM[g(e>=12)]),void 0!==Me.secondElement&&(Me.secondElement.value=p(n)))}function N(e){var t=parseInt(e.target.value)+(e.delta||0);4!==t.toString().length&&"Enter"!==e.key||(Me.currentYearElement.blur(),/[^\d]/.test(t.toString())||Q(t))}function I(e,t,n,a){return t instanceof Array?t.forEach(function(t){return I(e,t,n,a)}):e instanceof Array?e.forEach(function(e){return I(e,t,n,a)}):(e.addEventListener(t,n,a),void Me._handlers.push({element:e,event:t,handler:n}))}function F(e){return function(t){1===t.which&&e(t)}}function O(){he("onChange")}function j(){if(Me.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(Me.element.querySelectorAll("[data-"+e+"]"),function(t){return I(t,"click",Me[e])})}),Me.isMobile)me();else{var e=t(ae,50);if(Me._debouncedChange=t(O,M),"range"===Me.config.mode&&Me.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&I(Me.daysContainer,"mouseover",function(e){return ne(e.target)}),I(window.document.body,"keydown",te),Me.config.static||I(Me._input,"keydown",te),Me.config.inline||Me.config.static||I(window,"resize",e),void 0!==window.ontouchstart&&I(window.document.body,"touchstart",Z),I(window.document.body,"mousedown",F(Z)),I(window.document.body,"focus",Z,{capture:!0}),!0===Me.config.clickOpens&&(I(Me._input,"focus",Me.open),I(Me._input,"mousedown",F(Me.open))),void 0!==Me.daysContainer&&(I(Me.monthNav,"wheel",De),I(Me.monthNav,"mousedown",F(we)),I(Me.monthNav,["keyup","increment"],N),I(Me.daysContainer,"mousedown",F(de)),Me.config.animate&&(I(Me.daysContainer,["webkitAnimationEnd","animationend"],Y),I(Me.monthNav,["webkitAnimationEnd","animationend"],A))),void 0!==Me.timeContainer&&void 0!==Me.minuteElement&&void 0!==Me.hourElement){var n=function(e){return e.target.select()};I(Me.timeContainer,["wheel","input","increment"],h),I(Me.timeContainer,"mousedown",F(V)),I(Me.timeContainer,["wheel","input","increment"],Me._debouncedChange,{passive:!0}),I([Me.hourElement,Me.minuteElement],["focus","click"],n),void 0!==Me.secondElement&&I(Me.secondElement,"focus",function(){return Me.secondElement&&Me.secondElement.select()}),void 0!==Me.amPM&&I(Me.amPM,"mousedown",F(function(e){h(e),O()}))}}}function P(){Me._animationLoop.forEach(function(e){return e()}),Me._animationLoop=[]}function Y(e){if(Me.daysContainer&&Me.daysContainer.childNodes.length>1)switch(e.animationName){case"fpSlideLeft":Me.daysContainer.lastChild&&Me.daysContainer.lastChild.classList.remove("slideLeftNew"),Me.daysContainer.removeChild(Me.daysContainer.firstChild),Me.days=Me.daysContainer.firstChild,P();break;case"fpSlideRight":Me.daysContainer.firstChild&&Me.daysContainer.firstChild.classList.remove("slideRightNew"),Me.daysContainer.removeChild(Me.daysContainer.lastChild),Me.days=Me.daysContainer.firstChild,P()}}function A(e){switch(e.animationName){case"fpSlideLeftNew":case"fpSlideRightNew":Me.navigationCurrentMonth.classList.remove("slideLeftNew"),Me.navigationCurrentMonth.classList.remove("slideRightNew");for(var t=Me.navigationCurrentMonth;t.nextSibling&&/curr/.test(t.nextSibling.className);)Me.monthNav.removeChild(t.nextSibling);for(;t.previousSibling&&/curr/.test(t.previousSibling.className);)Me.monthNav.removeChild(t.previousSibling);Me.oldCurMonth=void 0}}function L(e){var t=void 0!==e?Me.parseDate(e):Me.latestSelectedDateObj||(Me.config.minDate&&Me.config.minDate>Me.now?Me.config.minDate:Me.config.maxDate&&Me.config.maxDate<Me.now?Me.config.maxDate:Me.now);try{void 0!==t&&(Me.currentYear=t.getFullYear(),Me.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,Me.config.errorHandler(e)}Me.redraw()}function V(e){~e.target.className.indexOf("arrow")&&H(e,e.target.classList.contains("arrowUp")?1:-1)}function H(e,t,n){var a=e&&e.target,r=n||a&&a.parentNode&&a.parentNode.firstChild,o=ye("increment");o.delta=t,r&&r.dispatchEvent(o)}function R(){var e=window.document.createDocumentFragment();if(Me.calendarContainer=o("div","flatpickr-calendar"),Me.calendarContainer.tabIndex=-1,!Me.config.noCalendar){if(e.appendChild(J()),Me.innerContainer=o("div","flatpickr-innerContainer"),Me.config.weekNumbers){var t=$(),n=t.weekWrapper,a=t.weekNumbers;Me.innerContainer.appendChild(n),Me.weekNumbers=a,Me.weekWrapper=n}Me.rContainer=o("div","flatpickr-rContainer"),Me.rContainer.appendChild(U()),Me.daysContainer||(Me.daysContainer=o("div","flatpickr-days"),Me.daysContainer.tabIndex=-1),K(),Me.rContainer.appendChild(Me.daysContainer),Me.innerContainer.appendChild(Me.rContainer),e.appendChild(Me.innerContainer)}Me.config.enableTime&&e.appendChild(q()),r(Me.calendarContainer,"rangeMode","range"===Me.config.mode),r(Me.calendarContainer,"animate",Me.config.animate),Me.calendarContainer.appendChild(e);var i=void 0!==Me.config.appendTo&&Me.config.appendTo.nodeType;if((Me.config.inline||Me.config.static)&&(Me.calendarContainer.classList.add(Me.config.inline?"inline":"static"),Me.config.inline&&(!i&&Me.element.parentNode?Me.element.parentNode.insertBefore(Me.calendarContainer,Me._input.nextSibling):void 0!==Me.config.appendTo&&Me.config.appendTo.appendChild(Me.calendarContainer)),Me.config.static)){var s=o("div","flatpickr-wrapper");Me.element.parentNode&&Me.element.parentNode.insertBefore(s,Me.element),s.appendChild(Me.element),Me.altInput&&s.appendChild(Me.altInput),s.appendChild(Me.calendarContainer)}Me.config.static||Me.config.inline||(void 0!==Me.config.appendTo?Me.config.appendTo:window.document.body).appendChild(Me.calendarContainer)}function W(e,t,n,i){var s=ee(t,!0),l=o("span","flatpickr-day "+e,t.getDate().toString());return l.dateObj=t,l.$i=i,l.setAttribute("aria-label",Me.formatDate(t,Me.config.ariaDateFormat)),0===a(t,Me.now)&&(Me.todayDateElem=l,l.classList.add("today")),s?(l.tabIndex=-1,ve(t)&&(l.classList.add("selected"),Me.selectedDateElem=l,"range"===Me.config.mode&&(r(l,"startRange",Me.selectedDates[0]&&0===a(t,Me.selectedDates[0])),r(l,"endRange",Me.selectedDates[1]&&0===a(t,Me.selectedDates[1]))))):(l.classList.add("disabled"),Me.selectedDates[0]&&Me.minRangeDate&&t>Me.minRangeDate&&t<Me.selectedDates[0]?Me.minRangeDate=t:Me.selectedDates[0]&&Me.maxRangeDate&&t<Me.maxRangeDate&&t>Me.selectedDates[0]&&(Me.maxRangeDate=t)),"range"===Me.config.mode&&(Te(t)&&!ve(t)&&l.classList.add("inRange"),1===Me.selectedDates.length&&void 0!==Me.minRangeDate&&void 0!==Me.maxRangeDate&&(t<Me.minRangeDate||t>Me.maxRangeDate)&&l.classList.add("notAllowed")),Me.weekNumbers&&"prevMonthDay"!==e&&n%7==1&&Me.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+Me.config.getWeek(t)+"</span>"),he("onDayCreate",l),l}function G(e,t){var n=e+t||0,a=void 0!==e?Me.days.childNodes[n]:Me.selectedDateElem||Me.todayDateElem||Me.days.childNodes[0],r=function(){(a=a||Me.days.childNodes[n]).focus(),"range"===Me.config.mode&&ne(a)};if(void 0===a&&0!==t)return t>0?(Me.changeMonth(1,!0,void 0,!0),n%=42):t<0&&(Me.changeMonth(-1,!0,void 0,!0),n+=42),B(r);r()}function B(e){!0===Me.config.animate?Me._animationLoop.push(e):e()}function K(e){if(void 0!==Me.daysContainer){var t=(new Date(Me.currentYear,Me.currentMonth,1).getDay()-Me.l10n.firstDayOfWeek+7)%7,n="range"===Me.config.mode,a=Me.utils.getDaysInMonth((Me.currentMonth-1+12)%12),r=Me.utils.getDaysInMonth(),s=window.document.createDocumentFragment(),l=a+1-t,c=0;for(Me.weekNumbers&&Me.weekNumbers.firstChild&&(Me.weekNumbers.textContent=""),n&&(Me.minRangeDate=new Date(Me.currentYear,Me.currentMonth-1,l),Me.maxRangeDate=new Date(Me.currentYear,Me.currentMonth+1,(42-t)%r));l<=a;l++,c++)s.appendChild(W("prevMonthDay",new Date(Me.currentYear,Me.currentMonth-1,l),l,c));for(l=1;l<=r;l++,c++)s.appendChild(W("",new Date(Me.currentYear,Me.currentMonth,l),l,c));for(var d=r+1;d<=42-t;d++,c++)s.appendChild(W("nextMonthDay",new Date(Me.currentYear,Me.currentMonth+1,d%r),d,c));n&&1===Me.selectedDates.length&&s.childNodes[0]?(Me._hidePrevMonthArrow=Me._hidePrevMonthArrow||!!Me.minRangeDate&&Me.minRangeDate>s.childNodes[0].dateObj,Me._hideNextMonthArrow=Me._hideNextMonthArrow||!!Me.maxRangeDate&&Me.maxRangeDate<new Date(Me.currentYear,Me.currentMonth+1,1)):ke();var u=o("div","dayContainer");if(u.appendChild(s),Me.config.animate&&void 0!==e)for(;Me.daysContainer.childNodes.length>1;)Me.daysContainer.removeChild(Me.daysContainer.firstChild);else i(Me.daysContainer);e&&e>=0?Me.daysContainer.appendChild(u):Me.daysContainer.insertBefore(u,Me.daysContainer.firstChild),Me.days=Me.daysContainer.childNodes[0]}}function J(){var e=window.document.createDocumentFragment();Me.monthNav=o("div","flatpickr-month"),Me.prevMonthNav=o("span","flatpickr-prev-month"),Me.prevMonthNav.innerHTML=Me.config.prevArrow,Me.currentMonthElement=o("span","cur-month"),Me.currentMonthElement.title=Me.l10n.scrollTitle;var t=l("cur-year",{tabindex:"-1"});return Me.currentYearElement=t.childNodes[0],Me.currentYearElement.title=Me.l10n.scrollTitle,Me.config.minDate&&Me.currentYearElement.setAttribute("data-min",Me.config.minDate.getFullYear().toString()),Me.config.maxDate&&(Me.currentYearElement.setAttribute("data-max",Me.config.maxDate.getFullYear().toString()),Me.currentYearElement.disabled=!!Me.config.minDate&&Me.config.minDate.getFullYear()===Me.config.maxDate.getFullYear()),Me.nextMonthNav=o("span","flatpickr-next-month"),Me.nextMonthNav.innerHTML=Me.config.nextArrow,Me.navigationCurrentMonth=o("div","flatpickr-current-month"),Me.navigationCurrentMonth.appendChild(Me.currentMonthElement),Me.navigationCurrentMonth.appendChild(t),e.appendChild(Me.prevMonthNav),e.appendChild(Me.navigationCurrentMonth),e.appendChild(Me.nextMonthNav),Me.monthNav.appendChild(e),Object.defineProperty(Me,"_hidePrevMonthArrow",{get:function(){return Me.__hidePrevMonthArrow},set:function(e){Me.__hidePrevMonthArrow!==e&&(Me.prevMonthNav.style.display=e?"none":"block"),Me.__hidePrevMonthArrow=e}}),Object.defineProperty(Me,"_hideNextMonthArrow",{get:function(){return Me.__hideNextMonthArrow},set:function(e){Me.__hideNextMonthArrow!==e&&(Me.nextMonthNav.style.display=e?"none":"block"),Me.__hideNextMonthArrow=e}}),ke(),Me.monthNav}function q(){Me.calendarContainer.classList.add("hasTime"),Me.config.noCalendar&&Me.calendarContainer.classList.add("noCalendar"),Me.timeContainer=o("div","flatpickr-time"),Me.timeContainer.tabIndex=-1;var e=o("span","flatpickr-time-separator",":"),t=l("flatpickr-hour");Me.hourElement=t.childNodes[0];var n=l("flatpickr-minute");if(Me.minuteElement=n.childNodes[0],Me.hourElement.tabIndex=Me.minuteElement.tabIndex=-1,Me.hourElement.value=p(Me.latestSelectedDateObj?Me.latestSelectedDateObj.getHours():Me.config.time_24hr?Me.config.defaultHour:C(Me.config.defaultHour)),Me.minuteElement.value=p(Me.latestSelectedDateObj?Me.latestSelectedDateObj.getMinutes():Me.config.defaultMinute),Me.hourElement.setAttribute("data-step",Me.config.hourIncrement.toString()),Me.minuteElement.setAttribute("data-step",Me.config.minuteIncrement.toString()),Me.hourElement.setAttribute("data-min",Me.config.time_24hr?"0":"1"),Me.hourElement.setAttribute("data-max",Me.config.time_24hr?"23":"12"),Me.minuteElement.setAttribute("data-min","0"),Me.minuteElement.setAttribute("data-max","59"),Me.hourElement.title=Me.minuteElement.title=Me.l10n.scrollTitle,Me.timeContainer.appendChild(t),Me.timeContainer.appendChild(e),Me.timeContainer.appendChild(n),Me.config.time_24hr&&Me.timeContainer.classList.add("time24hr"),Me.config.enableSeconds){Me.timeContainer.classList.add("hasSeconds");var a=l("flatpickr-second");Me.secondElement=a.childNodes[0],Me.secondElement.value=p(Me.latestSelectedDateObj?Me.latestSelectedDateObj.getSeconds():Me.config.defaultSeconds),Me.secondElement.setAttribute("data-step",Me.minuteElement.getAttribute("data-step")),Me.secondElement.setAttribute("data-min",Me.minuteElement.getAttribute("data-min")),Me.secondElement.setAttribute("data-max",Me.minuteElement.getAttribute("data-max")),Me.timeContainer.appendChild(o("span","flatpickr-time-separator",":")),Me.timeContainer.appendChild(a)}return Me.config.time_24hr||(Me.amPM=o("span","flatpickr-am-pm",Me.l10n.amPM[g((Me.latestSelectedDateObj?Me.hourElement.value:Me.config.defaultHour)>11)]),Me.amPM.title=Me.l10n.toggleTitle,Me.amPM.tabIndex=-1,Me.timeContainer.appendChild(Me.amPM)),Me.timeContainer}function U(){Me.weekdayContainer||(Me.weekdayContainer=o("div","flatpickr-weekdays"));var e=Me.l10n.firstDayOfWeek,t=Me.l10n.weekdays.shorthand.slice();return e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e))),Me.weekdayContainer.innerHTML="\n    <span class=flatpickr-weekday>\n      "+t.join("</span><span class=flatpickr-weekday>")+"\n    </span>\n    ",Me.weekdayContainer}function $(){Me.calendarContainer.classList.add("hasWeeks");var e=o("div","flatpickr-weekwrapper");e.appendChild(o("span","flatpickr-weekday",Me.l10n.weekAbbreviation));var t=o("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}function z(e,t,n,a){void 0===t&&(t=!0),void 0===n&&(n=Me.config.animate),void 0===a&&(a=!1);var r=t?e:e-Me.currentMonth;if(!(r<0&&Me._hidePrevMonthArrow||r>0&&Me._hideNextMonthArrow)){if(Me.currentMonth+=r,(Me.currentMonth<0||Me.currentMonth>11)&&(Me.currentYear+=Me.currentMonth>11?1:-1,Me.currentMonth=(Me.currentMonth+12)%12,he("onYearChange")),K(n?r:void 0),!n)return he("onMonthChange"),ke();var o=Me.navigationCurrentMonth;if(r<0)for(;o.nextSibling&&/curr/.test(o.nextSibling.className);)Me.monthNav.removeChild(o.nextSibling);else if(r>0)for(;o.previousSibling&&/curr/.test(o.previousSibling.className);)Me.monthNav.removeChild(o.previousSibling);Me.oldCurMonth=Me.navigationCurrentMonth,Me.navigationCurrentMonth=Me.monthNav.insertBefore(Me.oldCurMonth.cloneNode(!0),r>0?Me.oldCurMonth.nextSibling:Me.oldCurMonth);var i=Me.daysContainer;if(i.firstChild&&i.lastChild&&(r>0?(i.firstChild.classList.add("slideLeft"),i.lastChild.classList.add("slideLeftNew"),Me.oldCurMonth.classList.add("slideLeft"),Me.navigationCurrentMonth.classList.add("slideLeftNew")):r<0&&(i.firstChild.classList.add("slideRightNew"),i.lastChild.classList.add("slideRight"),Me.oldCurMonth.classList.add("slideRight"),Me.navigationCurrentMonth.classList.add("slideRightNew"))),Me.currentMonthElement=Me.navigationCurrentMonth.firstChild,Me.currentYearElement=Me.navigationCurrentMonth.lastChild.childNodes[0],ke(),Me.oldCurMonth.firstChild&&(Me.oldCurMonth.firstChild.textContent=D(Me.currentMonth-r,Me.config.shorthandCurrentMonth,Me.l10n)),B(function(){return he("onMonthChange")}),a&&document.activeElement&&document.activeElement.$i){var s=document.activeElement.$i;B(function(){G(s,0)})}}}function X(e){return!(!Me.config.appendTo||!Me.config.appendTo.contains(e))||Me.calendarContainer.contains(e)}function Z(e){if(Me.isOpen&&!Me.config.inline){var t=X(e.target),n=e.target===Me.input||e.target===Me.altInput||Me.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(Me.input)||~e.path.indexOf(Me.altInput)),a="blur"===e.type?n&&e.relatedTarget&&!X(e.relatedTarget):!n&&!t,r=!Me.config.ignoredFocusElements.some(function(t){return t.contains(e.target)});a&&r&&(Me.close(),"range"===Me.config.mode&&1===Me.selectedDates.length&&(Me.clear(!1),Me.redraw()))}}function Q(e){if(!(!e||Me.currentYearElement.getAttribute("data-min")&&e<parseInt(Me.currentYearElement.getAttribute("data-min"))||Me.currentYearElement.getAttribute("data-max")&&e>parseInt(Me.currentYearElement.getAttribute("data-max")))){var t=e,n=Me.currentYear!==t;Me.currentYear=t||Me.currentYear,Me.config.maxDate&&Me.currentYear===Me.config.maxDate.getFullYear()?Me.currentMonth=Math.min(Me.config.maxDate.getMonth(),Me.currentMonth):Me.config.minDate&&Me.currentYear===Me.config.minDate.getFullYear()&&(Me.currentMonth=Math.max(Me.config.minDate.getMonth(),Me.currentMonth)),n&&(Me.redraw(),he("onYearChange"))}}function ee(e,t){void 0===t&&(t=!0);var n=Me.parseDate(e,void 0,t);if(Me.config.minDate&&n&&a(n,Me.config.minDate,void 0!==t?t:!Me.minDateHasTime)<0||Me.config.maxDate&&n&&a(n,Me.config.maxDate,void 0!==t?t:!Me.maxDateHasTime)>0)return!1;if(!Me.config.enable.length&&!Me.config.disable.length)return!0;if(void 0===n)return!1;for(var r=Me.config.enable.length>0,o=r?Me.config.enable:Me.config.disable,i=0,s=void 0;i<o.length;i++){if("function"==typeof(s=o[i])&&s(n))return r;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return r;if("string"==typeof s&&void 0!==n){var l=Me.parseDate(s,void 0,!0);return l&&l.getTime()===n.getTime()?r:!r}if("object"==typeof s&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return r}return!r}function te(e){var t=e.target===Me._input,n=X(e.target),a=Me.config.allowInput,r=Me.isOpen&&(!a||!t),o=Me.config.inline&&t&&!a;if(13===e.keyCode&&t){if(a)return Me.setDate(Me._input.value,!0,e.target===Me.altInput?Me.config.altFormat:Me.config.dateFormat),e.target.blur();Me.open()}else if(n||r||o){var i=!!Me.timeContainer&&Me.timeContainer.contains(e.target);switch(e.keyCode){case 13:i?be():de(e);break;case 27:e.preventDefault(),Me.close();break;case 8:case 46:t&&!Me.config.allowInput&&Me.clear();break;case 37:case 39:if(i)Me.hourElement&&Me.hourElement.focus();else if(e.preventDefault(),Me.daysContainer){var s=39===e.keyCode?1:-1;e.ctrlKey?z(s,!0,void 0,!0):G(e.target.$i,s)}break;case 38:case 40:e.preventDefault();var l=40===e.keyCode?1:-1;Me.daysContainer&&void 0!==e.target.$i?e.ctrlKey?(Q(Me.currentYear-l),G(e.target.$i,0)):i||G(e.target.$i,7*l):Me.config.enableTime&&(!i&&Me.hourElement&&Me.hourElement.focus(),h(e),Me._debouncedChange());break;case 9:e.target===Me.hourElement?(e.preventDefault(),Me.minuteElement.select()):e.target===Me.minuteElement&&(Me.secondElement||Me.amPM)?(e.preventDefault(),void 0!==Me.secondElement?Me.secondElement.focus():void 0!==Me.amPM&&Me.amPM.focus()):e.target===Me.secondElement&&Me.amPM&&(e.preventDefault(),Me.amPM.focus())}switch(e.key){case Me.l10n.amPM[0].charAt(0):void 0!==Me.amPM&&e.target===Me.amPM&&(Me.amPM.textContent=Me.l10n.amPM[0],x(),be());break;case Me.l10n.amPM[1].charAt(0):void 0!==Me.amPM&&e.target===Me.amPM&&(Me.amPM.textContent=Me.l10n.amPM[1],x(),be())}he("onKeyDown",e)}}function ne(e){if(1===Me.selectedDates.length&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&void 0!==Me.minRangeDate&&void 0!==Me.maxRangeDate){for(var t=e.dateObj,n=Me.parseDate(Me.selectedDates[0],void 0,!0),a=Math.min(t.getTime(),Me.selectedDates[0].getTime()),r=Math.max(t.getTime(),Me.selectedDates[0].getTime()),o=!1,i=a;i<r;i+=w.DAY)if(!ee(new Date(i))){o=!0;break}for(var s=0,l=Me.days.childNodes[s].dateObj;s<42;s++,l=Me.days.childNodes[s]&&Me.days.childNodes[s].dateObj)!function(i,s){var l=s.getTime(),c=l<Me.minRangeDate.getTime()||l>Me.maxRangeDate.getTime(),d=Me.days.childNodes[i];if(c)return d.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){d.classList.remove(e)}),"continue";if(o&&!c)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){d.classList.remove(e)});var u=Math.max(Me.minRangeDate.getTime(),a),p=Math.min(Me.maxRangeDate.getTime(),r);e.classList.add(t<Me.selectedDates[0]?"startRange":"endRange"),n<t&&l===n.getTime()?d.classList.add("startRange"):n>t&&l===n.getTime()&&d.classList.add("endRange"),l>=u&&l<=p&&d.classList.add("inRange")}(s,l)}}function ae(){!Me.isOpen||Me.config.static||Me.config.inline||se()}function re(e){return function(t){var n=Me.config["_"+e+"Date"]=Me.parseDate(t,Me.config.dateFormat),a=Me.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(Me["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),Me.selectedDates&&(Me.selectedDates=Me.selectedDates.filter(function(e){return ee(e)}),Me.selectedDates.length||"min"!==e||S(n),be()),Me.daysContainer&&(le(),void 0!==n?Me.currentYearElement[e]=n.getFullYear().toString():Me.currentYearElement.removeAttribute(e),Me.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function oe(){var t=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],a=u({},c,JSON.parse(JSON.stringify(e.dataset||{}))),r={};Me.config.parseDate=a.parseDate,Me.config.formatDate=a.formatDate,Object.defineProperty(Me.config,"enable",{get:function(){return Me.config._enable||[]},set:function(e){Me.config._enable=pe(e)}}),Object.defineProperty(Me.config,"disable",{get:function(){return Me.config._disable||[]},set:function(e){Me.config._disable=pe(e)}}),!a.dateFormat&&a.enableTime&&(r.dateFormat=a.noCalendar?"H:i"+(a.enableSeconds?":S":""):E.defaultConfig.dateFormat+" H:i"+(a.enableSeconds?":S":"")),a.altInput&&a.enableTime&&!a.altFormat&&(r.altFormat=a.noCalendar?"h:i"+(a.enableSeconds?":S K":" K"):E.defaultConfig.altFormat+" h:i"+(a.enableSeconds?":S":"")+" K"),Object.defineProperty(Me.config,"minDate",{get:function(){return Me.config._minDate},set:re("min")}),Object.defineProperty(Me.config,"maxDate",{get:function(){return Me.config._maxDate},set:re("max")});var o=function(e){return function(t){Me.config["min"===e?"_minTime":"_maxTime"]=Me.parseDate(t,"H:i")}};for(Object.defineProperty(Me.config,"minTime",{get:function(){return Me.config._minTime},set:o("min")}),Object.defineProperty(Me.config,"maxTime",{get:function(){return Me.config._maxTime},set:o("max")}),Object.assign(Me.config,r,a),i=0;i<t.length;i++)Me.config[t[i]]=!0===Me.config[t[i]]||"true"===Me.config[t[i]];for(i=n.length;i--;)void 0!==Me.config[n[i]]&&(Me.config[n[i]]=f(Me.config[n[i]]||[]).map(m));for(var i=0;i<Me.config.plugins.length;i++){var s=Me.config.plugins[i](Me)||{};for(var l in s)~n.indexOf(l)?Me.config[l]=f(s[l]).map(m).concat(Me.config[l]):void 0===a[l]&&(Me.config[l]=s[l])}Me.isMobile=!Me.config.disableMobile&&!Me.config.inline&&"single"===Me.config.mode&&!Me.config.disable.length&&!Me.config.enable.length&&!Me.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),he("onParseConfig")}function ie(){"object"!=typeof Me.config.locale&&void 0===E.l10ns[Me.config.locale]&&Me.config.errorHandler(new Error("flatpickr: invalid locale "+Me.config.locale)),Me.l10n=u({},E.l10ns.default,"object"==typeof Me.config.locale?Me.config.locale:"default"!==Me.config.locale?E.l10ns[Me.config.locale]:void 0),y.K="("+Me.l10n.amPM[0]+"|"+Me.l10n.amPM[1]+"|"+Me.l10n.amPM[0].toLowerCase()+"|"+Me.l10n.amPM[1].toLowerCase()+")",Me.formatDate=k(Me)}function se(e){if(void 0!==Me.calendarContainer){he("onPreCalendarPosition");var t=e||Me._positionElement,n=Array.prototype.reduce.call(Me.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),a=Me.calendarContainer.offsetWidth,o=Me.config.position,i=t.getBoundingClientRect(),s=window.innerHeight-i.bottom,l="above"===o||"below"!==o&&s<n&&i.top>n,c=window.pageYOffset+i.top+(l?-n-2:t.offsetHeight+2);if(r(Me.calendarContainer,"arrowTop",!l),r(Me.calendarContainer,"arrowBottom",l),!Me.config.inline){var d=window.pageXOffset+i.left,u=window.document.body.offsetWidth-i.right,p=d+a>window.document.body.offsetWidth;r(Me.calendarContainer,"rightMost",p),Me.config.static||(Me.calendarContainer.style.top=c+"px",p?(Me.calendarContainer.style.left="auto",Me.calendarContainer.style.right=u+"px"):(Me.calendarContainer.style.left=d+"px",Me.calendarContainer.style.right="auto"))}}}function le(){Me.config.noCalendar||Me.isMobile||(U(),ke(),K())}function ce(){Me._input.focus(),-1===window.navigator.userAgent.indexOf("MSIE")?Me.close():setTimeout(Me.close,0)}function de(e){e.preventDefault(),e.stopPropagation();var t=s(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,r=Me.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=r.getMonth()!==Me.currentMonth&&"range"!==Me.config.mode;if(Me.selectedDateElem=n,"single"===Me.config.mode)Me.selectedDates=[r];else if("multiple"===Me.config.mode){var i=ve(r);i?Me.selectedDates.splice(parseInt(i),1):Me.selectedDates.push(r)}else"range"===Me.config.mode&&(2===Me.selectedDates.length&&Me.clear(),Me.selectedDates.push(r),0!==a(r,Me.selectedDates[0],!0)&&Me.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(x(),o){var l=Me.currentYear!==r.getFullYear();Me.currentYear=r.getFullYear(),Me.currentMonth=r.getMonth(),l&&he("onYearChange"),he("onMonthChange")}if(K(),Me.config.minDate&&Me.minDateHasTime&&Me.config.enableTime&&0===a(r,Me.config.minDate)&&S(Me.config.minDate),be(),Me.config.enableTime&&setTimeout(function(){return Me.showTimeInput=!0},50),"range"===Me.config.mode&&(1===Me.selectedDates.length?(ne(n),Me._hidePrevMonthArrow=Me._hidePrevMonthArrow||void 0!==Me.minRangeDate&&Me.minRangeDate>Me.days.childNodes[0].dateObj,Me._hideNextMonthArrow=Me._hideNextMonthArrow||void 0!==Me.maxRangeDate&&Me.maxRangeDate<new Date(Me.currentYear,Me.currentMonth+1,1)):ke()),o?B(function(){return Me.selectedDateElem&&Me.selectedDateElem.focus()}):G(n.$i,0),void 0!==Me.hourElement&&setTimeout(function(){return void 0!==Me.hourElement&&Me.hourElement.select()},451),Me.config.closeOnSelect){var c="single"===Me.config.mode&&!Me.config.enableTime,d="range"===Me.config.mode&&2===Me.selectedDates.length&&!Me.config.enableTime;(c||d)&&ce()}O()}}function ue(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return Me.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[Me.parseDate(e,t)];else if("string"==typeof e)switch(Me.config.mode){case"single":n=[Me.parseDate(e,t)];break;case"multiple":n=e.split(Me.config.conjunction).map(function(e){return Me.parseDate(e,t)});break;case"range":n=e.split(Me.l10n.rangeSeparator).map(function(e){return Me.parseDate(e,t)})}else Me.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));Me.selectedDates=n.filter(function(e){return e instanceof Date&&ee(e,!1)}),Me.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function pe(e){return e.map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?Me.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:Me.parseDate(e.from,void 0),to:Me.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ge(){Me.selectedDates=[],Me.now=new Date;var e=Me.config.defaultDate||Me.input.value;e&&ue(e,Me.config.dateFormat);var t=Me.selectedDates.length?Me.selectedDates[0]:Me.config.minDate&&Me.config.minDate.getTime()>Me.now.getTime()?Me.config.minDate:Me.config.maxDate&&Me.config.maxDate.getTime()<Me.now.getTime()?Me.config.maxDate:Me.now;Me.currentYear=t.getFullYear(),Me.currentMonth=t.getMonth(),Me.selectedDates.length&&(Me.latestSelectedDateObj=Me.selectedDates[0]),void 0!==Me.config.minTime&&(Me.config.minTime=Me.parseDate(Me.config.minTime,"H:i")),void 0!==Me.config.maxTime&&(Me.config.maxTime=Me.parseDate(Me.config.maxTime,"H:i")),Me.minDateHasTime=!!Me.config.minDate&&(Me.config.minDate.getHours()>0||Me.config.minDate.getMinutes()>0||Me.config.minDate.getSeconds()>0),Me.maxDateHasTime=!!Me.config.maxDate&&(Me.config.maxDate.getHours()>0||Me.config.maxDate.getMinutes()>0||Me.config.maxDate.getSeconds()>0),Object.defineProperty(Me,"showTimeInput",{get:function(){return Me._showTimeInput},set:function(e){Me._showTimeInput=e,Me.calendarContainer&&r(Me.calendarContainer,"showTimeInput",e),Me.isOpen&&se()}})}function fe(){Me.input=Me.config.wrap?e.querySelector("[data-input]"):e,Me.input?(Me.input._type=Me.input.type,Me.input.type="text",Me.input.classList.add("flatpickr-input"),Me._input=Me.input,Me.config.altInput&&(Me.altInput=o(Me.input.nodeName,Me.input.className+" "+Me.config.altInputClass),Me._input=Me.altInput,Me.altInput.placeholder=Me.input.placeholder,Me.altInput.disabled=Me.input.disabled,Me.altInput.required=Me.input.required,Me.altInput.type="text",Me.input.type="hidden",!Me.config.static&&Me.input.parentNode&&Me.input.parentNode.insertBefore(Me.altInput,Me.input.nextSibling)),Me.config.allowInput||Me._input.setAttribute("readonly","readonly"),Me._positionElement=Me.config.positionElement||Me._input):Me.config.errorHandler(new Error("Invalid input element specified"))}function me(){var e=Me.config.enableTime?Me.config.noCalendar?"time":"datetime-local":"date";Me.mobileInput=o("input",Me.input.className+" flatpickr-mobile"),Me.mobileInput.step=Me.input.getAttribute("step")||"any",Me.mobileInput.tabIndex=1,Me.mobileInput.type=e,Me.mobileInput.disabled=Me.input.disabled,Me.mobileInput.required=Me.input.required,Me.mobileInput.placeholder=Me.input.placeholder,Me.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",Me.selectedDates.length&&(Me.mobileInput.defaultValue=Me.mobileInput.value=Me.formatDate(Me.selectedDates[0],Me.mobileFormatStr)),Me.config.minDate&&(Me.mobileInput.min=Me.formatDate(Me.config.minDate,"Y-m-d")),Me.config.maxDate&&(Me.mobileInput.max=Me.formatDate(Me.config.maxDate,"Y-m-d")),Me.input.type="hidden",void 0!==Me.altInput&&(Me.altInput.type="hidden");try{Me.input.parentNode&&Me.input.parentNode.insertBefore(Me.mobileInput,Me.input.nextSibling)}catch(e){}I(Me.mobileInput,"change",function(e){Me.setDate(e.target.value,!1,Me.mobileFormatStr),he("onChange"),he("onClose")})}function he(e,t){var n=Me.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](Me.selectedDates,Me.input.value,Me,t);"onChange"===e&&(Me.input.dispatchEvent(ye("change")),Me.input.dispatchEvent(ye("input")))}function ye(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ve(e){for(var t=0;t<Me.selectedDates.length;t++)if(0===a(Me.selectedDates[t],e))return""+t;return!1}function Te(e){return!("range"!==Me.config.mode||Me.selectedDates.length<2)&&a(e,Me.selectedDates[0])>=0&&a(e,Me.selectedDates[1])<=0}function ke(){Me.config.noCalendar||Me.isMobile||!Me.monthNav||(Me.currentMonthElement.textContent=D(Me.currentMonth,Me.config.shorthandCurrentMonth,Me.l10n)+" ",Me.currentYearElement.value=Me.currentYear.toString(),Me._hidePrevMonthArrow=void 0!==Me.config.minDate&&(Me.currentYear===Me.config.minDate.getFullYear()?Me.currentMonth<=Me.config.minDate.getMonth():Me.currentYear<Me.config.minDate.getFullYear()),Me._hideNextMonthArrow=void 0!==Me.config.maxDate&&(Me.currentYear===Me.config.maxDate.getFullYear()?Me.currentMonth+1>Me.config.maxDate.getMonth():Me.currentYear>Me.config.maxDate.getFullYear()))}function be(e){if(void 0===e&&(e=!0),!Me.selectedDates.length)return Me.clear(e);void 0!==Me.mobileInput&&Me.mobileFormatStr&&(Me.mobileInput.value=void 0!==Me.latestSelectedDateObj?Me.formatDate(Me.latestSelectedDateObj,Me.mobileFormatStr):"");var t="range"!==Me.config.mode?Me.config.conjunction:Me.l10n.rangeSeparator;Me.input.value=Me.selectedDates.map(function(e){return Me.formatDate(e,Me.config.dateFormat)}).join(t),void 0!==Me.altInput&&(Me.altInput.value=Me.selectedDates.map(function(e){return Me.formatDate(e,Me.config.altFormat)}).join(t)),!1!==e&&he("onValueUpdate")}function De(e){e.preventDefault();var t=Me.currentYearElement.parentNode&&Me.currentYearElement.parentNode.contains(e.target);if(e.target===Me.currentMonthElement||t){var a=n(e);t?(Q(Me.currentYear+a),e.target.value=Me.currentYear.toString()):Me.changeMonth(a,!0,!1)}}function we(e){var t=Me.prevMonthNav.contains(e.target),n=Me.nextMonthNav.contains(e.target);t||n?z(t?-1:1):e.target===Me.currentYearElement?(e.preventDefault(),Me.currentYearElement.select()):"arrowUp"===e.target.className?Me.changeYear(Me.currentYear+1):"arrowDown"===e.target.className&&Me.changeYear(Me.currentYear-1)}function Ce(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==Me.amPM&&e.target===Me.amPM&&(Me.amPM.textContent=Me.l10n.amPM[g(Me.amPM.textContent===Me.l10n.amPM[0])]);var a=parseFloat(n.getAttribute("data-min")),r=parseFloat(n.getAttribute("data-max")),o=parseFloat(n.getAttribute("data-step")),i=parseInt(n.value,10),s=i+o*(e.delta||(t?38===e.which?1:-1:Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))||0));if(void 0!==n.value&&2===n.value.length){var l=n===Me.hourElement,c=n===Me.minuteElement;s<a?(s=r+s+g(!l)+(g(l)&&g(!Me.amPM)),c&&H(void 0,-1,Me.hourElement)):s>r&&(s=n===Me.hourElement?s-r-g(!Me.amPM):a,c&&H(void 0,1,Me.hourElement)),Me.amPM&&l&&(1===o?s+i===23:Math.abs(s-i)>o)&&(Me.amPM.textContent=Me.l10n.amPM[g(Me.amPM.textContent===Me.l10n.amPM[0])]),n.value=p(s)}}var Me={config:u({},E.defaultConfig),l10n:T};Me.parseDate=b({config:Me.config,l10n:Me.l10n}),Me._animationLoop=[],Me._handlers=[],Me._bind=I,Me._setHoursFromDate=S,Me.changeMonth=z,Me.changeYear=Q,Me.clear=function(e){void 0===e&&(e=!0),Me.input.value="",Me.altInput&&(Me.altInput.value=""),Me.mobileInput&&(Me.mobileInput.value=""),Me.selectedDates=[],Me.latestSelectedDateObj=void 0,Me.showTimeInput=!1,Me.config.enableTime&&(void 0!==Me.config.minDate?S(Me.config.minDate):_(Me.config.defaultHour,Me.config.defaultMinute,Me.config.defaultSeconds)),Me.redraw(),e&&he("onChange")},Me.close=function(){Me.isOpen=!1,Me.isMobile||(Me.calendarContainer.classList.remove("open"),Me._input.classList.remove("active")),he("onClose")},Me._createElement=o,Me.destroy=function(){void 0!==Me.config&&he("onDestroy");for(var e=Me._handlers.length;e--;){var t=Me._handlers[e];t.element.removeEventListener(t.event,t.handler)}Me._handlers=[],Me.mobileInput?(Me.mobileInput.parentNode&&Me.mobileInput.parentNode.removeChild(Me.mobileInput),Me.mobileInput=void 0):Me.calendarContainer&&Me.calendarContainer.parentNode&&Me.calendarContainer.parentNode.removeChild(Me.calendarContainer),Me.altInput&&(Me.input.type="text",Me.altInput.parentNode&&Me.altInput.parentNode.removeChild(Me.altInput),delete Me.altInput),Me.input&&(Me.input.type=Me.input._type,Me.input.classList.remove("flatpickr-input"),Me.input.removeAttribute("readonly"),Me.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete Me[e]}catch(e){}})},Me.isEnabled=ee,Me.jumpToDate=L,Me.open=function(e,t){if(void 0===t&&(t=Me._input),Me.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),setTimeout(function(){void 0!==Me.mobileInput&&Me.mobileInput.click()},0),void he("onOpen");if(!Me._input.disabled&&!Me.config.inline){var n=Me.isOpen;Me.isOpen=!0,n||(Me.calendarContainer.classList.add("open"),Me._input.classList.add("active"),he("onOpen"),se(t))}},Me.redraw=le,Me.set=function(e,t){null!==e&&"object"==typeof e?Object.assign(Me.config,e):(Me.config[e]=t,void 0!==Ee[e]&&Ee[e].forEach(function(e){return e()})),Me.redraw(),L()},Me.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=Me.config.dateFormat),0!==e&&!e)return Me.clear(t);ue(e,n),Me.showTimeInput=Me.selectedDates.length>0,Me.latestSelectedDateObj=Me.selectedDates[0],Me.redraw(),L(),S(),be(t),t&&he("onChange")},Me.toggle=function(){if(Me.isOpen)return Me.close();Me.open()};var Ee={locale:[ie]};return function(){Me.element=Me.input=e,Me.isOpen=!1,oe(),ie(),fe(),ge(),d(),Me.isMobile||R(),j(),(Me.selectedDates.length||Me.config.noCalendar)&&(Me.config.enableTime&&S(Me.config.noCalendar?Me.latestSelectedDateObj||Me.config.minDate:void 0),be(!1)),Me.showTimeInput=Me.selectedDates.length>0||Me.config.noCalendar,void 0!==Me.weekWrapper&&void 0!==Me.daysContainer&&(Me.calendarContainer.style.width=Me.daysContainer.offsetWidth+Me.weekWrapper.offsetWidth+"px");var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!Me.isMobile&&t&&se(),he("onReady")}(),Me}function d(e,t){for(var n=Array.prototype.slice.call(e),a=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=c(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}var u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p=function(e){return("0"+e).slice(-2)},g=function(e){return!0===e?1:0},f=function(e){return e instanceof Array?e:[e]},m=function(){},h={D:m,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*g(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var n=parseInt(t);return new Date(e.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:m,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},w:m,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[v.w(e,t,n)]},F:function(e,t,n){return D(v.n(e,t,n)-1,!1,t)},G:function(e,t,n){return p(v.h(e,t,n))},H:function(e){return p(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[g(e.getHours()>11)]},M:function(e,t){return D(e.getMonth(),!0,t)},S:function(e){return p(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return p(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return p(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return p(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},T={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"]},k=function(e){var t=e.config,n=void 0===t?C:t,a=e.l10n,r=void 0===a?T:a;return function(e,t){return void 0!==n.formatDate?n.formatDate(e,t):t.split("").map(function(t,a,o){return v[t]&&"\\"!==o[a-1]?v[t](e,r,n):"\\"!==t?t:""}).join("")}},b=function(e){var t=e.config,n=void 0===t?C:t,a=e.l10n,r=void 0===a?T:a;return function(e,t,a){if(0===e||e){var o,i=e;if(e instanceof Date)o=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)o=new Date(e);else if("string"==typeof e){var s=t||(n||C).dateFormat,l=String(e).trim();if("today"===l)o=new Date,a=!0;else if(/Z$/.test(l)||/GMT$/.test(l))o=new Date(e);else if(n&&n.parseDate)o=n.parseDate(e,s);else{o=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var c=void 0,d=[],u=0,p=0,g="";u<s.length;u++){var f=s[u],m="\\"===f,v="\\"===s[u-1]||m;if(y[f]&&!v){g+=y[f];var T=new RegExp(g).exec(e);T&&(c=!0)&&d["Y"!==f?"push":"unshift"]({fn:h[f],val:T[++p]})}else m||(g+=".");d.forEach(function(e){var t=e.fn,n=e.val;return o=t(o,n,r)||o})}o=c?o:void 0}}if(o instanceof Date)return!0===a&&o.setHours(0,0,0,0),o;n.errorHandler(new Error("Invalid date provided: "+i))}}},D=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},w={DAY:864e5},C={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:console.warn,getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=0,r=t;a<r.length;a++)!function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})}(r[a]);return e});var M=300;"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return d(this,e)},HTMLElement.prototype.flatpickr=function(e){return d([this],e)});var E;E=function(e,t){return e instanceof NodeList?d(e,t):"string"==typeof e?d(window.document.querySelectorAll(e),t):d([e],t)},"object"==typeof window&&(window.flatpickr=E),E.defaultConfig=C,E.l10ns={en:u({},T),default:u({},T)},E.localize=function(e){E.l10ns.default=u({},E.l10ns.default,e)},E.setDefaults=function(e){E.defaultConfig=u({},E.defaultConfig,e)},E.parseDate=b({}),E.formatDate=k({}),E.compareDates=a,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return d(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))};var x=E;e.default=x,Object.defineProperty(e,"__esModule",{value:!0})}),define("can-arcgis@2.2.2#util/convertEsriFields",["exports","flatpickr","flatpickr/dist/flatpickr.css"],function(e,t){"use strict";function n(e){var t={};return e.domain&&e.domain.codedValues&&e.domain.codedValues.length&&(t={editTag:"sp-select-field",options:e.domain.codedValues.map(function(e){return{label:e.name,value:e.code}})}),"date"===e.type&&(t={onInsert:function(e){(0,r.default)(e)}}),t}function a(e){return o[e.type]||"text"}Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_TYPES=void 0,e.getMixin=n,e.getTextType=a,e.default=function(e){return e.filter(function(e){return e.editable&&!i[e.type]}).map(function(e){var t=n(e);return Object.assign({name:e.name,alias:e.alias,editTag:"sp-text-field",textType:a(e.type)},t)})};var r=function(e){return e&&e.__esModule?e:{default:e}}(t),o=e.TEXT_TYPES={"small-integer":"number",integer:"number",single:"numer",date:"date",double:"number",string:"text"},i={xml:1,"global-id":1,guid:1,raster:1,blob:1,geometry:1,oid:1}}),define("can-arcgis@2.2.2#components/edit-attribute-dialog/ViewModel",["exports","can-define/map/map","can-define/list/list","can-arcgis/util/convertEsriFields","can-arcgis/util/decorateAccessor"],function(e,t,n,a,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0});var s=o(t),l=o(n),c=o(a),d=o(r),u={update:"updateFeatures",add:"addFeatures"};e.default=s.default.extend("EditWidget",{layerInfos:s.default,modal:"*",error:{type:"string",set:function(e){return e&&this.resetScroll(),e}},editLayer:{},editMode:{value:"update",type:"string"},editTitle:{get:function(){return this.editGraphic?"Edit "+this.editGraphic.layer.title:""}},editGraphic:{set:function(e){return(0,d.default)(e),e.layer&&(this.editLayer=e.layer),e}},editFields:{Type:l.default,get:function(e){return e&&e.length?e:this.editLayer?(0,c.default)(this.editLayer.fields):[]}},eventName:{value:"edit"},dispatcher:{set:function(e){return this.dispatcher&&this.dispatcher.off(this.eventName,this.handler),e&&e.on(this.eventName,this.handler),e}},handler:{get:function(){return this.openDialog.bind(this)}},modalVisible:{type:"boolean",value:!1,set:function(e){return this.resetScroll(),e}},isSaving:"boolean",openDialog:function(e,t){this.modalVisible=!0,this.assign(t)},submitForm:function(e){var t=this;this.error=null;var n=e[0].serialize();Object.assign(this.editGraphic.attributes,n);var a=i({},u[this.editMode],[this.editGraphic]);return new Promise(function(e,n){t.editLayer.applyEdits(a).then(function(a){if(Object.keys(a).forEach(function(e){a[e].forEach(function(e){e.error&&e.error.message&&(t.error=e.error.message)})}),t.error)return t.isSaving=!1,void n(t.error);t.assign({isSaving:!1,modalVisible:!1}),e()}).otherwise(function(e){n(e)})})},cancelForm:function(){this.assign({isSaving:!1,modalVisible:!1})},resetScroll:function(){setTimeout(function(){var e=document.querySelector(".modal-body");e&&(e.scrollTop=0)})}})}),define("can-arcgis@2.2.2#components/edit-feature-widget/ViewModel",["exports","../edit-attribute-dialog/ViewModel","can-reflect","can-define/map/map","can-util/js/get/get"],function(e,t,n,a,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(t),s=o(n),l=o(a),c=o(r);e.default=i.default.extend("EditFeatureWidget",{title:{type:"string",value:"Create Features"},editMode:{type:"string",value:"add"},layerInfos:{Value:l.default},view:{},layers:{get:function(){var e=this.view.map.layers.items,t=this.layerInfos;return e.filter(function(e){return!(0,c.default)(t,e.id+".exclude")&&s.default.getKeyValue(e,"capabilities.editing.supportsGeometryUpdate")})}},editLayer:{},editGraphic:{get:function(){if(this.graphicsLayer&&this.graphicsLayer.graphics.length){var e=this.graphicsLayer.graphics.items[0];return e.attributes={},this.view.graphics.add(e),e}return{}}},graphicsLayer:{},clearGraphics:function(){this.view.graphics.remove(this.editGraphic),this.graphicsLayer.graphics.removeAll()},activate:function(e){var t=(0,c.default)(this.layerInfos,e.id+".fields");this.assign({editLayer:e,editFields:t||null})},deactivate:function(){return this.clearGraphics(),this.editLayer=null,!1},submitForm:function(){var e=this;i.default.prototype.submitForm.apply(this,arguments).then(function(){e.clearGraphics()})},cancelForm:function(){i.default.prototype.cancelForm.apply(this,arguments),this.clearGraphics()},resetScroll:function(){setTimeout(function(){var e=document.querySelector("edit-feature-widget");e&&(e.scrollTop=0)})}})}),define("can-arcgis@2.2.2#components/edit-feature-widget/edit-feature-widget",["exports","can-component","./template.stache","./ViewModel","./styles.less","../draw-widget/draw-widget","spectre-canjs/sp-form/sp-form","spectre-canjs/sp-form/fields/sp-text-field/sp-text-field","spectre-canjs/sp-form/fields/sp-select-field/sp-select-field"],function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(t),i=r(n),s=r(a);e.default=o.default.extend({tag:"edit-feature-widget",ViewModel:s.default,view:i.default})}),define("can-arcgis@2.2.2#actions/deleteFeature",["exports","sweetalert2","sweetalert2/dist/sweetalert2.min.css"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default={title:"Delete",id:"complete",className:"esri-icon-trash",onClick:function(e,t,a){var r=e.attributes[e.layer.displayField]||e.attributes[e.layer.objectIdField];(0,n.default)({type:"warning",title:"Delete",text:"Are you sure you want to delete this feature: "+r+"?",showConfirmButton:!0,showCancelButton:!0}).then(function(t){t.dismiss||e.layer.applyEdits({deleteFeatures:[e]}).then(function(){(0,n.default)({title:"Item Deleted",text:"The item was successfully deleted",type:"success",toast:!0,timer:5e3}),a.view.popup.close()})})}}}),define("can-arcgis@2.2.2#components/edit-attribute-dialog/template.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,n){var a=t("components/edit-attribute-dialog/template.stache",[{tokenType:"chars",args:["\r\n\r\n",1]},{tokenType:"start",args:["sp-modal",!1,3]},{tokenType:"attrStart",args:["active:bind",3]},{tokenType:"attrValue",args:["modalVisible",3]},{tokenType:"attrEnd",args:["active:bind",3]},{tokenType:"attrStart",args:["title:from",3]},{tokenType:"attrValue",args:["editTitle",3]},{tokenType:"attrEnd",args:["title:from",3]},{tokenType:"attrStart",args:["on:beforeremove",3]},{tokenType:"attrValue",args:["setModal()",3]},{tokenType:"attrEnd",args:["on:beforeremove",3]},{tokenType:"end",args:["sp-modal",!1,6]},{tokenType:"chars",args:[" ",6]},{tokenType:"special",args:["#if(error)",6]},{tokenType:"chars",args:["\r\n        ",6]},{tokenType:"start",args:["sp-toast",!1,7]},{tokenType:"attrStart",args:["body:from",7]},{tokenType:"attrValue",args:["error",7]},{tokenType:"attrEnd",args:["body:from",7]},{tokenType:"attrStart",args:["severity:from",7]},{tokenType:"attrValue",args:["'error'",7]},{tokenType:"attrEnd",args:["severity:from",7]},{tokenType:"end",args:["sp-toast",!1,7]},{tokenType:"close",args:["sp-toast",7]},{tokenType:"chars",args:["\r\n    ",7]},{tokenType:"special",args:["/if",8]},{tokenType:"chars",args:["\r\n\n\r\n    ",8]},{tokenType:"start",args:["sp-form",!1,11]},{tokenType:"attrStart",args:["is:u:saving:bind",11]},{tokenType:"attrValue",args:["isSaving",11]},{tokenType:"attrEnd",args:["is:u:saving:bind",11]},{tokenType:"attrStart",args:["object:from",11]},{tokenType:"attrValue",args:["editGraphic.attributes",11]},{tokenType:"attrEnd",args:["object:from",11]},{tokenType:"attrStart",args:["on:submit",11]},{tokenType:"attrValue",args:["submitForm(scope.arguments)",11]},{tokenType:"attrEnd",args:["on:submit",11]},{tokenType:"attrStart",args:["on:cancel",11]},{tokenType:"attrValue",args:["cancelForm()",11]},{tokenType:"attrEnd",args:["on:cancel",11]},{tokenType:"attrStart",args:["fields:from",11]},{tokenType:"attrValue",args:["editFields",11]},{tokenType:"attrEnd",args:["fields:from",11]},{tokenType:"end",args:["sp-form",!1,15]},{tokenType:"close",args:["sp-form",15]},{tokenType:"chars",args:["\r\n",15]},{tokenType:"close",args:["sp-modal",16]},{tokenType:"chars",args:["\r\n",16]},{tokenType:"done",args:[17]}]);return function(t,n,r){var o=Object.assign({module:e},n);return a(t,o,r)}}),define("spectre-canjs@2.1.3#sp-modal/sp-modal.stache!steal-stache@4.0.1#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.0.1#can-view-import","can-stache-bindings@4.0.5#can-stache-bindings"],function(e,t,n){var a=t("sp-modal/sp-modal.stache",[{tokenType:"start",args:["div",!1,1]},{tokenType:"attrStart",args:["class",1]},{tokenType:"special",args:["#if(backdrop)",1]},{tokenType:"attrValue",args:["modal",1]},{tokenType:"special",args:["else",1]},{tokenType:"attrValue",args:["sp-modal-no-backdrop",1]},{tokenType:"special",args:["/if",1]},{tokenType:"special",args:["#if(active)",1]},{tokenType:"attrValue",args:[" active",1]},{tokenType:"special",args:["/if",1]},{tokenType:"special",args:["#if(small)",1]},{tokenType:"attrValue",args:[" modal-sm",1]},{tokenType:"special",args:["/if",1]},{tokenType:"attrEnd",args:["class",1]},{tokenType:"end",args:["div",!1,1]},{tokenType:"chars",args:["\r\n    ",1]},{tokenType:"special",args:["#if(backdrop)",2]},{tokenType:"chars",args:["\r\n        ",2]},{tokenType:"start",args:["div",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["modal-overlay",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"end",args:["div",!1,3]},{tokenType:"close",args:["div",3]},{tokenType:"chars",args:["\r\n    ",3]},{tokenType:"special",args:["/if",4]},{tokenType:"chars",args:["\r\n    ",4]},{tokenType:"start",args:["div",!1,5]},{tokenType:"attrStart",args:["class",5]},{tokenType:"attrValue",args:["modal-container",5]},{tokenType:"attrEnd",args:["class",5]},{tokenType:"end",args:["div",!1,5]},{tokenType:"chars",args:["\r\n\r\n        ",5]},{tokenType:"special",args:["#if(custom)",7]},{tokenType:"chars",args:["\r\n            ",7]},{tokenType:"start",args:["content",!0,8]},{tokenType:"end",args:["content",!0,8]},{tokenType:"chars",args:["\r\n        ",8]},{tokenType:"special",args:["else",9]},{tokenType:"chars",args:["\r\n            ",9]},{tokenType:"start",args:["div",!1,10]},{tokenType:"attrStart",args:["class",10]},{tokenType:"attrValue",args:["modal-header",10]},{tokenType:"attrEnd",args:["class",10]},{tokenType:"end",args:["div",!1,10]},{tokenType:"chars",args:["\r\n                ",10]},{tokenType:"start",args:["button",!1,11]},{tokenType:"attrStart",args:["on:el:click",11]},{tokenType:"attrValue",args:["hide()",11]},{tokenType:"attrEnd",args:["on:el:click",11]},{tokenType:"attrStart",args:["class",11]},{tokenType:"attrValue",args:["btn btn-clear float-right",11]},{tokenType:"attrEnd",args:["class",11]},{tokenType:"end",args:["button",!1,11]},{tokenType:"close",args:["button",11]},{tokenType:"chars",args:["\r\n                ",11]},{tokenType:"start",args:["div",!1,12]},{tokenType:"attrStart",args:["class",12]},{tokenType:"attrValue",args:["modal-title",12]},{tokenType:"attrEnd",args:["class",12]},{tokenType:"end",args:["div",!1,12]},{tokenType:"special",args:["title",12]},{tokenType:"close",args:["div",12]},{tokenType:"chars",args:["\r\n            ",12]},{tokenType:"close",args:["div",13]},{tokenType:"chars",args:["\r\n            ",13]},{tokenType:"start",args:["div",!1,14]},{tokenType:"attrStart",args:["class",14]},{tokenType:"attrValue",args:["modal-body",14]},{tokenType:"attrEnd",args:["class",14]},{tokenType:"end",args:["div",!1,14]},{tokenType:"chars",args:["\r\n                ",14]},{tokenType:"start",args:["div",!1,15]},{tokenType:"attrStart",args:["class",15]},{tokenType:"attrValue",args:["content",15]},{tokenType:"attrEnd",args:["class",15]},{tokenType:"end",args:["div",!1,15]},{tokenType:"chars",args:["\r\n                    ",15]},{tokenType:"start",args:["content",!0,16]},{tokenType:"end",args:["content",!0,16]},{tokenType:"chars",args:["\r\n                ",16]},{tokenType:"close",args:["div",17]},{tokenType:"chars",args:["\r\n            ",17]},{tokenType:"close",args:["div",18]},{tokenType:"chars",args:["\r\n\r\n            ",18]},{tokenType:"start",args:["div",!1,20]},{tokenType:"attrStart",args:["class",20]},{tokenType:"attrValue",args:["modal-footer",20]},{tokenType:"attrEnd",args:["class",20]},{tokenType:"end",args:["div",!1,20]},{tokenType:"chars",args:["\r\n                ",20]},{tokenType:"start",args:["button",!1,21]},{tokenType:"attrStart",args:["on:el:click",21]},{tokenType:"attrValue",args:["hide()",21]},{tokenType:"attrEnd",args:["on:el:click",21]},{tokenType:"attrStart",args:["class",21]},{tokenType:"attrValue",args:["btn btn-link",21]},{tokenType:"attrEnd",args:["class",21]},{tokenType:"end",args:["button",!1,21]},{tokenType:"chars",args:["Close",21]},{tokenType:"close",args:["button",21]},{tokenType:"chars",args:["\r\n            ",21]},{tokenType:"close",args:["div",22]},{tokenType:"chars",args:["\r\n        ",22]},{tokenType:"special",args:["/if",23]},{tokenType:"chars",args:["\r\n    ",23]},{tokenType:"close",args:["div",24]},{tokenType:"chars",args:["\r\n",24]},{tokenType:"close",args:["div",25]},{tokenType:"chars",args:["\r\n",25]},{tokenType:"done",args:[26]}]);return function(t,n,r){var o=Object.assign({module:e},n);return a(t,o,r)}}),define("spectre-canjs@2.1.3#sp-modal/ViewModel",["exports","can-define/map/map"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default=n.default.extend("ModalDialog",{active:{value:!1,type:"htmlbool"},custom:{value:!1,type:"htmlbool"},small:{value:!1,type:"htmlbool"},title:{type:"string"},backdrop:{value:!0,type:"boolean"},show:function(){this.active=!0,this.dispatch("show")},hide:function(){this.active=!1,this.dispatch("hide")},toggle:function(e){this.active=void 0!==e?Boolean(e):!this.active}})}),define("spectre-canjs@2.1.3#sp-modal/sp-modal",["can-component","./sp-modal.stache","./ViewModel","./sp-modal.less"],function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(e),o=a(t),i=a(n);r.default.extend({ViewModel:i.default,view:o.default,tag:"sp-modal"})}),define("can-arcgis@2.2.2#components/edit-attribute-dialog/edit-attribute-dialog",["exports","can-component","./ViewModel","./template.stache","can-3-4-compat/dom-mutation-events","spectre-canjs/sp-modal/sp-modal","spectre-canjs/sp-form/sp-form","spectre-canjs/sp-toast/sp-toast","spectre-canjs/sp-form/fields/sp-text-field/sp-text-field","spectre-canjs/sp-form/fields/sp-select-field/sp-select-field"],function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(t),i=r(n),s=r(a);e.default=o.default.extend({tag:"edit-attribute-dialog",ViewModel:i.default,view:s.default})}),define("can-arcgis@2.2.2#actions/openEditPopup",["exports","can-define/map/map","../components/edit-attribute-dialog/edit-attribute-dialog"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispatcher=void 0,e.createEditAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit";return{className:"esri-icon-edit",title:"Edit",id:"edit",onClick:function(t,n,r){a.dispatch(e,[{editGraphic:t}]),r.view.popup.close()}}};var n=function(e){return e&&e.__esModule?e:{default:e}}(t),a=e.dispatcher=new n.default}),define("can-arcgis@2.2.2#config/edit-features/edit-features",["exports","can-stache","../../actions/deleteFeature","../../actions/openEditPopup","../../components/edit-feature-widget/edit-feature-widget","./edit.less"],function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(t),i={actions:[r(n).default,(0,a.createEditAction)()]};e.default={title:"A complete editing toolset",debug:!0,viewOptions:{center:[-93.28697204589844,44.294471740722656],zoom:12},mapOptions:{basemap:"gray",layers:[{type:"feature",options:{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Military/FeatureServer/6",popupTemplate:i}},{type:"feature",options:{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Military/FeatureServer/8",popupTemplate:i}},{type:"feature",options:{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Military/FeatureServer/9",popupTemplate:i}},{type:"feature",options:{url:"https://services1.arcgis.com/6bXbLtkf4y11TosO/arcgis/rest/services/Restaurants/FeatureServer/0",id:"workorders",outFields:["*"],popupTemplate:i}}]},widgets:[{parent:document.body,type:"renderer",renderer:(0,o.default)('\n            <edit-attribute-dialog dispatcher:from="dispatcher" />\n        '),options:{dispatcher:a.dispatcher}},{parent:"view",position:"top-right",type:"renderer",renderer:(0,o.default)('<edit-feature-widget \n            layerInfos:from="layerInfos"\n            view:from="view" />'),options:{layerInfos:{workorders:{}}}}]}});
//# sourceMappingURL=edit-features.js.map