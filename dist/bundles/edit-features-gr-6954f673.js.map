{"version":3,"sources":["../../node_modules/spectre-canjs/util/string/string.js","../../components/identify/util/identifyMapImage.js","../../components/identify/identify.js"],"names":["capitalize","string","charAt","toUpperCase","slice","toLowerCase","text","String","prototype","trim","call","split","join","replace","assignPopupTemplate","data","popupTemplates","layer","results","map","props","template","_get2","default","id","layerId","feature","popupTemplate","_assign2","title","layerName","content","type","fieldInfos","Object","keys","attributes","f","fieldName","label","_string","makeSentenceCase","visible","serialize","event","scope","Promise","resolve","_esriLoader","loadModules","then","_ref","_ref2","_slicedToArray","IdentifyParameters","IdentifyTask","include","layerInfos","exclude","params","layerIds","sublayers","filter","l","length","indexOf","layerOption","returnGeometry","spatialReference","mapPoint","tolerance","geometry","height","view","width","mapExtent","extent","url","execute","result","features","geometryEngine","modules","_modules","IDENTIFY_METHODS","exports","esri.layers.MapImageLayer","_identifyMapImage2","esri.layers.FeatureLayer","hitTest","graphic","declaredClass","_map2","extend","clickHandle","set","this","remove","on","identify","bind","_this","stopPropagation","popup","promises","layers","allLayers","toArray","sort","a","b","aIndex","forEach","hasOwnProperty","promise","isResolved","_dev2","warn","setTimeout","push","all","identifiedFeatures","reduce","concat","geoms","center","distances","geom","index","distance","ret","Math","round","open","selectedFeatureIndex","updateLocationEnabled"],"mappings":"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","file":"../../node_modules/spectre-canjs/util/string/string.js"}