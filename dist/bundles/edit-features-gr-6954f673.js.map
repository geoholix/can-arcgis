{"version":3,"sources":["../../node_modules/spectre-canjs/util/string/string.js","../../components/identify/util/identifyMapImage.js","../../components/identify/identify.js"],"names":["text","String","_string2","default","capitalize","prototype","trim","call","split","join","toLowerCase","replace","n","e","__esModule","t","assignPopupTemplate","data","popupTemplates","layer","results","map","props","template","_get2","id","layerId","feature","popupTemplate","_assign2","title","layerName","content","type","fieldInfos","Object","keys","attributes","f","fieldName","label","_string","makeSentenceCase","visible","serialize","event","scope","Promise","resolve","_esriLoader","loadModules","then","_ref","_ref2","_slicedToArray","IdentifyParameters","IdentifyTask","include","layerInfos","exclude","params","layerIds","sublayers","filter","l","length","indexOf","layerOption","returnGeometry","spatialReference","mapPoint","tolerance","geometry","height","view","width","mapExtent","extent","url","execute","result","features","geometryEngine","modules","_modules","IDENTIFY_METHODS","exports","esri.layers.MapImageLayer","_identifyMapImage2","esri.layers.FeatureLayer","hitTest","graphic","declaredClass","_map2","extend","clickHandle","set","this","remove","on","identify","bind","_this","stopPropagation","popup","promises","layers","allLayers","toArray","sort","a","b","aIndex","forEach","hasOwnProperty","promise","isResolved","_dev2","warn","setTimeout","push","all","identifiedFeatures","reduce","concat","geoms","center","distances","geom","index","distance","ret","Math","round","open","selectedFeatureIndex","updateLocationEnabled"],"mappings":"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","file":"../../node_modules/spectre-canjs/util/string/string.js"}